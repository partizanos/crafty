{"pages":[{"title":"Crafty","text":"Crafty is a package bundled with all needed configurations to make your Frontend build environment a joy to work with. Installation and usage Install npm install @swissquote\/crafty \\ @swissquote\/crafty-preset-babel \\ @swissquote\/crafty-preset-postcss \\ @swissquote\/crafty-preset-jest \\ @swissquote\/crafty-runner-webpack \\ @swissquote\/crafty-runner-gulp Configure In crafty.config.js add module.exports = { presets: [ &quot;@swissquote\/crafty-preset-babel&quot;, &quot;@swissquote\/crafty-preset-postcss&quot;, &quot;@swissquote\/crafty-preset-jest&quot;, &quot;@swissquote\/crafty-runner-webpack&quot;, &quot;@swissquote\/crafty-runner-gulp&quot; ], js: { app: { runner: &quot;webpack&quot;, source: &quot;js\/app.js&quot; } }, css: { app: { source: &quot;css\/app.scss&quot;, watch: [&quot;css\/**&quot;] } } }; Run You can run the commands using npx or by adding them to the scripts section of your package.json npx crafty run npx crafty test With this configuration you get: Create a JavaScript bundle compiled with Webpack and Babel. Linted your JavaScript with ESLint. Create a CSS bundle compiled with PostCSS. Lint your CSS with Stylelint. Run your tests with Jest and compile them with Babel. Why Getting started in a web application is easy, write an index.html, a style.css, and a script.js file and you're good to go. But on bigger apps you might want some CSS preprocessing ? but which one to choose ? Sass, Less, Stylus, PostCSS ? Then you want to write your JavaScript using EcmaScript 2015+, but do you transpile it with Traceur or Babel ? Then you have to package your JavaScript in bundles, you have the choice between rollup.js, Browserify, Webpack or Pundle. Now you want to lint your JavaScript, do you choose ESLint or JSHint ? To orchestrate all this, do you use Gulp, Broccoli or Grunt ? You guessed it, each tool in the JavaScript stack has at least two alternatives, and there is not always a clear winner. This lead to a &quot;JavaScript Fatigue&quot; in the community these last years and some people got lost in what tools to choose to do these tasks. But even when you chose the tool you want to work with, you still have to configure it, maintain it up to date and follow up on changes. Crafty is an attempt to create a package that is simple to install and configure. Specify your JavaScript and CSS files in entry and get them compiled, compressed and linted with the best tools available. Each tool is fine-tuned to give the best and to follow Swissquote's Guidelines and best practices for Frontend development. Most aspects of Crafty are configurable and updates are painless. More on Why Features The main feature of Crafty is to compile your JavaScript, CSS, compress your images and deliver them in the target directory. But shortening the list of features you gain with Crafty to one sentence doesn't give it's full measure. Here's some other features it has: JavaScript Write EcmaScript 2015, transpiled to JavaScript all browsers understand with Babel. Write TypeScript, transpiled to EcmaScript 5 with the TypeScript compiler. Bundle all JavaScript files together with the help of Webpack. Compress the output with UglifyJS to create the smallest possible bundles. Lint your code with ESLint, points you to possible mistakes and formatting errors. Simple debugging with Source Maps. Read more about features here CSS Preprocess your CSS using PostCSS and plugins that will allow to write in a syntax approaching the one of Sass. Some plugins include postcss-nested to nest your styles, some plugins to use Future CSS features today and postcss-advanced-variables to define mixins Compress the CSS output with postcss-csso to get the smallest possible file. Automatically add vendor prefixes to properties with autoprefixer. Simple Debugging with Source Maps Read more about features here Images With the help of crafty-preset-images you can also compress your images (svg\/png\/jpg\/gif). Read more about features and configuration here Watching for Changes \/ Hot Module Replacement By running the gulp watch command, a process is launched to trigger a rebuild of your asset on each change in src\/main\/frontend. A change on the configuration while Watching will reconfigure itself. For Assets built with Webpack this can be even more powerful : after compiling your code, it can change the code within the browsers without reloading. Here's an example: Read more about watch Maven, Node.js and Gulp Swissquote's build environment is based mainly on Maven and it's plugin ecosystem. But the Frontend world relies on Node.js tooling to build JavaScript and CSS assets. To use the best of both worlds, we take advantage of the maven-frontend-plugin. This plugin will ensure a Node.js version is installed and will run an npm install to install our JavaScript dependencies. We also use Gulp, a JavaScript task runner (can be seen a bit like Ant but for the JavaScript world). Crafty is the glue that will take all these pieces we mentioned, and build you assets with the best-in-class tools. Working with Swissquote's JavaScript and CSS Guidelines as well. Everything bundled in a way that mvn clean install will build your assets like you would expect with pure Java plugins. Getting started To get started, follow the guide","tags":"","url":"index.html"},{"title":"Getting Started","text":"To get started, you need to follow at least these steps : Install Crafty and the presets you wish to use. Create a crafty.config.js files to declare your JavaScript and CSS bundles. (for Maven projects) Configure your project to use the frontend-maven-plugin to guarantee the version of NPM\/Yarn and Node. Required knowledge To be able to use Crafty, you need to have a basic understanding of what NPM\/Yarn do; Basic knowledge of npm install Know how to run commands installed through NPM (npx your_command or node_modules\/.bin\/your_command) Understand npm run and the script field All User guides Getting Started Configuring the build in a blank project Configuring the build in a maven project Create a configuration file Productivity Developing Faster with Crafty watch References Available options in crafty.config.js","tags":"","url":"Getting_Started.html"},{"title":"Use Cases","text":"You can combine Crafty presets and runners the way you wish. To make it easy, we prepared some use cases for you to start. Compiling CSS with PostCSS Compiling JavaScript with Babel Compiling TypeScript Compressing Images Testing your code with Jest","tags":"","url":"Use_Cases\/index.html"},{"title":"Compiling CSS","text":"Table of Contents Compiling your CSS on its own ( Gulp ) Installing the preset with Gulp Importing your CSS in Webpack Installing the preset with Webpack Features To compile CSS we leverage PostCSS and a selection of plugins, the final result is a syntax that is almost Sass (SCSS style) with imports, nested styles, variables and more. Compiling your CSS on its own ( Gulp ) The easiest way to get started is to use Gulp to generate your final CSS bundle Installing the preset with Gulp cd src\/main\/frontend npm install @swissquote\/crafty @swissquote\/crafty-preset-postcss @swissquote\/crafty-runner-gulp --save In your crafty.config.js file, you must add the following presets and create a bundle. module.exports = { presets: [ &quot;@swissquote\/crafty-preset-postcss&quot;, &quot;@swissquote\/crafty-runner-gulp&quot; ], css: { app: { runner: &quot;gulp&quot;, source: &quot;css\/style.scss&quot; } } }; You are now ready to run crafty run and compile your CSS source files with PostCSS and Gulp. Read more about crafty-preset-postcss. Importing your CSS in Webpack The other way crafty-preset-postcss works is by adding PostCSS as a loader to Webpack. Allowing you to use import from EcmaScript 2015 for your CSS. Installing the preset with Webpack cd src\/main\/frontend npm install @swissquote\/crafty @swissquote\/crafty-preset-postcss @swissquote\/crafty-runner-webpack --save In your crafty.config.js file, you must add the following presets. module.exports = { presets: [ &quot;@swissquote\/crafty-preset-postcss&quot;, &quot;@swissquote\/crafty-runner-webpack&quot; ], js: { app: { source: &quot;js\/index.js&quot;, extractCSS: true } } }; The extractCSS option will extract the generated CSS from the JavaScript bundle and into its own CSS file. You can use this preset with one of our presets to TypeScript or JavaScript. You are now ready to run crafty run and compile your CSS source files with PostCSS and Webpack. Read more about crafty-preset-postcss. Features We use more than 30 plugins for our PostCSS preset, including nesting, variables, imports, future CSS features and more. See details in CSS Features.","tags":"","url":"Use_Cases\/Compiling_CSS.html"},{"title":"Compiling JavaScript","text":"Table of Contents Compiling JavaScript for a webapp ( Webpack \/ rollup.js ) Installing the preset with Webpack Compiling JavaScript for a library ( Gulp ) Installing the preset with Gulp Features When compiling JavaScript, you have to know wether you are going to develop in an application or a library. The good news is that Crafty makes it a breeze to switch from one to the other. Compiling JavaScript for a webapp ( Webpack \/ rollup.js ) When developing for a webapp, you wish for all files to be packed into the smallest number of files, because the number of requests that a final application will make are directly related to the performance of that application. Webpack and rollup.js do a great job at optimizing your bundles into the smallest possible package. For this use case, we are going to use Webpack, but they are interchangeable in this example. Installing the preset with Webpack cd src\/main\/frontend npm install @swissquote\/crafty @swissquote\/crafty-preset-babel @swissquote\/crafty-runner-webpack --save In your crafty.config.js file, you must add the following presets and create a bundle. module.exports = { presets: [ &quot;@swissquote\/crafty-preset-babel&quot;, &quot;@swissquote\/crafty-runner-webpack&quot; ], js: { app: { runner: &quot;webpack&quot;, source: &quot;js\/index.js&quot; } } }; You are now ready to run crafty run and compile your JavaScript source files with Webpack. Read more about crafty-preset-babel. You can also know more about Webpack's features and options Compiling JavaScript for a library ( Gulp ) When developing a library, you can either go the same direction as a webapp and merge all the files into one bundle, or you can keep each source file in a separate compiled file and use them as-is. The advantage of the second approach is that the Tree-Shaking that can be done in the final application is much more efficient if the compiled files stay separate. (Like a component library). This approach is not recommended if you know that the majority of your library will always be used, as we would recommend to use rollup.js in that case. Installing the preset with Gulp cd src\/main\/frontend npm install @swissquote\/crafty @swissquote\/crafty-preset-babel @swissquote\/crafty-runner-gulp --save In your crafty.config.js file, you must add the following presets and create a bundle. You can see that the bundle we created contains a glob as the source, this means that all source files will be compiled separately, and the dependencies between the files won't be resolved (like Webpack or rollup.js would do). module.exports = { presets: [ &quot;@swissquote\/crafty-preset-babel&quot;, &quot;@swissquote\/crafty-runner-gulp&quot; ], js: { lib: { runner: &quot;gulp&quot;, source: &quot;js\/**\/*.js&quot; } } }; You are now ready to run crafty run and compile your JavaScript source files with Gulp. Read more about crafty-preset-babel. Features By leveraging Babel we are able to use EcmaScript 2015+ and compile to EcmaScript 5. Read more about JavaScript features","tags":"","url":"Use_Cases\/Compiling_JavaScript.html"},{"title":"Compiling TypeScript","text":"Table of Contents Compiling TypeScript for a webapp ( Webpack \/ rollup.js ) Installing the preset with Webpack Compiling TypeScript for a library ( Gulp ) Installing the preset with Gulp Features When compiling TypeScript, like for JavaScript, you have to know wether you are going to develop in an application or a library. The good news is that Crafty makes it a breeze to switch from one to the other. Compiling TypeScript for a webapp ( Webpack \/ rollup.js ) When developing for a webapp, you wish for all files to be packed into the smallest number of files, because the number of requests that a final application will make are directly related to the performance of that application. Webpack and rollup.js do a great job at optimizing your bundles into the smallest possible package. For this use case, we are going to use Webpack, but they are interchangeable in this example. Installing the preset with Webpack cd src\/main\/frontend npm install @swissquote\/crafty @swissquote\/crafty-preset-typescript @swissquote\/crafty-runner-webpack --save In your crafty.config.js file, you must add the following presets and create a bundle. module.exports = { presets: [ &quot;@swissquote\/crafty-preset-typescript&quot;, &quot;@swissquote\/crafty-runner-webpack&quot; ], js: { app: { runner: &quot;webpack&quot;, source: &quot;js\/index.ts&quot; } } }; Then, you can create a tsconfig.json next to crafty.config.js. { &quot;exclude&quot;: [&quot;node_modules&quot;, &quot;node&quot;, &quot;css&quot;, &quot;etc&quot;], &quot;compilerOptions&quot;: { &quot;declaration&quot;: true, &quot;moduleResolution&quot;: &quot;node&quot;, &quot;charset&quot;: &quot;UTF-8&quot;, &quot;jsx&quot;: &quot;react&quot;, &quot;module&quot;: &quot;esnext&quot;, \/\/ Using an ES6 module with an ES5 target allows to leverage tree shaking &quot;sourceMap&quot;: true, &quot;target&quot;: &quot;es5&quot;, &quot;lib&quot;: [&quot;DOM&quot;, &quot;ES2017&quot;, &quot;DOM.Iterable&quot;, &quot;ScriptHost&quot;] } } You are now ready to run crafty run and compile your TypeScript source files with Webpack. Read more about crafty-preset-typescript. You can also know more about Webpack's features and options Compiling TypeScript for a library ( Gulp ) When developing a library, you can either go the same direction as a webapp and merge all the files into one bundle, or you can keep each source file in a separate compiled file and use them as-is. The advantage of the second approach is that the Tree-Shaking that can be done in the final application is much more efficient if the compiled files stay separate. (Like a component library). This approach is not recommended if you know that the majority of your library will always be used, as we would recommend to use rollup.js in that case. Installing the preset with Gulp cd src\/main\/frontend npm install @swissquote\/crafty @swissquote\/crafty-preset-typescript @swissquote\/crafty-runner-gulp --save In your crafty.config.js file, you must add the following presets and create a bundle. You can see that the bundle we created contains a glob as the source, this means that all source files will be compiled separately, and the dependencies between the files won't be resolved (like Webpack or rollup.js would do). module.exports = { presets: [ &quot;@swissquote\/crafty-preset-typescript&quot;, &quot;@swissquote\/crafty-runner-gulp&quot; ], js: { lib: { runner: &quot;gulp&quot;, source: &quot;js\/**\/*.ts&quot; } } }; Then, you can create a tsconfig.json next to crafty.config.js. { &quot;exclude&quot;: [&quot;node_modules&quot;, &quot;node&quot;, &quot;css&quot;, &quot;etc&quot;], &quot;compilerOptions&quot;: { &quot;declaration&quot;: true, &quot;moduleResolution&quot;: &quot;node&quot;, &quot;charset&quot;: &quot;UTF-8&quot;, &quot;jsx&quot;: &quot;react&quot;, &quot;module&quot;: &quot;esnext&quot;, \/\/ Using an ES6 module with an ES5 target allows to leverage tree shaking &quot;sourceMap&quot;: true, &quot;target&quot;: &quot;es5&quot;, &quot;lib&quot;: [&quot;DOM&quot;, &quot;ES2017&quot;, &quot;DOM.Iterable&quot;, &quot;ScriptHost&quot;] } } You are now ready to run crafty run and compile your TypeScript source files with Gulp. Read more about crafty-preset-typescript. Features All features that exist in EcmaScript 2016 are supported in TypeScript. On top of that, TypeScript supports optional typing for each variable, function parameter and return type. Read more about TypeScript specific features","tags":"","url":"Use_Cases\/Compiling_TypeScript.html"},{"title":"Compressing Images","text":"All websites or webapps today have images. We have a preset in Crafty to handle compressing images and SVG's optimally for your web needs. Installing cd src\/main\/frontend npm install @swissquote\/crafty @swissquote\/crafty-preset-images @swissquote\/crafty-runner-gulp --save In your crafty.config.js file, you must add the following presets module.exports = { presets: [ &quot;@swissquote\/crafty-preset-images&quot;, &quot;@swissquote\/crafty-runner-gulp&quot; ] }; Features Bitmaps (jpg, png, jpg) You can drop your images in any sub-folder of src\/main\/frontend\/images and it will copy it over to the destination folder after applying the best possible compression algorithms to the images SVG There is also an automatic process for SVG that will apply the best possible compression to your svg source file (remove comments and useless spaces) Known issues Downloading jpg\/png\/gif compression tools is done from GitHub directly and fails on machines that don't have internet access or a corporate proxy. You can use crafty-preset-images-simple instead to work around this issue. Read More","tags":"","url":"Use_Cases\/Compressing_Images.html"},{"title":"Testing your code","text":"Table of Contents Installing Your first test With Babel or Typescript Crafty comes with a crafty test command by default, but no test runner comes built-in. For that we made an integration with Jest. Installing cd src\/main\/frontend npm install @swissquote\/crafty @swissquote\/crafty-preset-jest --save In your crafty.config.js file, you must add the following presets module.exports = { presets: [&quot;@swissquote\/crafty-preset-jest&quot;] }; Your first test in js create a file named math.js module.exports.add = function add(a, b) { return a + b; }; module.exports.multiply = function multiply(a, b) { return a * b; }; then in js\/__tests__ create another file named math.js const math = require(&quot;..\/math&quot;); test(&quot;adds 1 + 2 to equal 3&quot;, () =&gt; { expect(math.add(1, 2)).toBe(3); }); test(&quot;multiply something&quot;, () =&gt; { expect(math.multiply(2, 2)).toBe(4); }); You can now run crafty test and see that the test is discovered and executed automatically. Read more about crafty-preset-jest. With Babel or Typescript You can also use EcmaScript 2015+ and TypeScript features by installing and adding their respective presets. They are configured automatically once you include them in presets from your crafty.config.js","tags":"","url":"Use_Cases\/Testing_your_code.html"},{"title":"User Guides","text":"In this section, we have all user guides, going from what configuration options are available to you to how to improve your productivity with gulp watch. Table of Contents Getting Started Productivity References Getting Started Configuring the build in a blank project Configuring the build in a maven project Create a configuration file Productivity Developing Faster with Crafty watch References Available options in crafty.config.js","tags":"","url":"User_Guides\/index.html"},{"title":"Configuring the build in a blank project","text":"Table of Contents package.json .gitignore Next package.json in package.json add: { &quot;name&quot;: &quot;your-project-name&quot;, &quot;version&quot;: &quot;1.0.0&quot;, &quot;scripts&quot;: { &quot;run&quot;: &quot;crafty run&quot;, &quot;watch&quot;: &quot;crafty watch&quot; } } .gitignore add this to your .gitignore node_modules\/** This applies to Mercurial as well, but the file name would be .hgignore Next The next step is to add your presets and bundles","tags":"","url":"User_Guides\/Configuring_the_build_in_a_blank_project.html"},{"title":"Configuring the build in a maven project","text":"Table of Contents Update your project's pom.xml package.json .gitignore Next Update your project's pom.xml In the &lt;build&gt;&lt;plugins&gt; section, add the following configuration: &lt;!-- Gulp Frontend --&gt; &lt;plugin&gt; &lt;groupId&gt;com.github.eirslett&lt;\/groupId&gt; &lt;artifactId&gt;frontend-maven-plugin&lt;\/artifactId&gt; &lt;version&gt;1.6&lt;\/version&gt; &lt;configuration&gt; &lt;workingDirectory&gt;src\/main\/frontend&lt;\/workingDirectory&gt; &lt;environmentVariables&gt; &lt;!-- Avoid certificates issues, needed behind a corporate proxy --&gt; &lt;NODE_TLS_REJECT_UNAUTHORIZED&gt;0&lt;\/NODE_TLS_REJECT_UNAUTHORIZED&gt; &lt;\/environmentVariables&gt; &lt;\/configuration&gt; &lt;executions&gt; &lt;execution&gt; &lt;id&gt;install node and yarn&lt;\/id&gt; &lt;goals&gt; &lt;goal&gt;install-node-and-yarn&lt;\/goal&gt; &lt;\/goals&gt; &lt;configuration&gt; &lt;nodeVersion&gt;v8.9.3&lt;\/nodeVersion&gt; &lt;yarnVersion&gt;v1.3.2&lt;\/yarnVersion&gt; &lt;\/configuration&gt; &lt;\/execution&gt; &lt;execution&gt; &lt;id&gt;yarn install&lt;\/id&gt; &lt;goals&gt; &lt;goal&gt;yarn&lt;\/goal&gt; &lt;\/goals&gt; &lt;configuration&gt; &lt;arguments&gt;install --dist-url=&quot;${maven-frontend.nodeDownloadRoot}&quot;&lt;\/arguments&gt; &lt;\/configuration&gt; &lt;\/execution&gt; &lt;execution&gt; &lt;id&gt;yarn build&lt;\/id&gt; &lt;goals&gt; &lt;goal&gt;yarn&lt;\/goal&gt; &lt;\/goals&gt; &lt;configuration&gt; &lt;arguments&gt;run build&lt;\/arguments&gt; &lt;\/configuration&gt; &lt;\/execution&gt; &lt;\/executions&gt; &lt;\/plugin&gt; &lt;!-- End Gulp Frontend --&gt; As you can see, we prefer to use Yarn in this configuration as it's faster than NPM. Both are are interchangeable in that matter, you can choose the one you prefer. package.json in src\/main\/frontend\/package.json add: { &quot;name&quot;: &quot;maven-frontend&quot;, &quot;version&quot;: &quot;1.0.0&quot;, &quot;scripts&quot;: { &quot;run&quot;: &quot;crafty run&quot;, &quot;watch&quot;: &quot;crafty watch&quot; } } .gitignore add this to your .gitignore # Frontend plugins src\/main\/frontend\/node\/** src\/main\/frontend\/node_modules\/** This applies to Mercurial as well, but the file name would be .hgignore Next The next step is to add your presets and bundles","tags":"","url":"User_Guides\/Configuring_the_build_in_a_maven_project.html"},{"title":"Create a configuration file","text":"In this guide you will learn to create a configuration for your project. Table of Contents Foreword Presets Bundles Common Bundle options CSS Bundles (crafty-preset-postcss) JavaScript Bundles (crafty-preset-babel or crafty-preset-typescript) Images (crafty-preset-images or crafty-preset-images-simple) Naming and locations conventions Locations Bundle names Bundle destinations Destination directory All Options Foreword All Paths are relative to the current working directory. Maven projects default to src\/main\/frontend. Your configuration file must be in crafty.config.js In its simplest form a configuration can look like this. module.exports = { presets: [ &quot;@swissquote\/crafty-preset-babel&quot;, &quot;@swissquote\/crafty-runner-gulp&quot; ], js: { app: { \/\/ Will create js\/app.min.js containing both source files source: [&quot;js\/panel.js&quot;, &quot;js\/nothing.js&quot;] } } }; More advanced configuration can look like this: module.exports = { presets: [ &quot;@swissquote\/crafty-preset-maven&quot;, &quot;@swissquote\/crafty-preset-postcss&quot;, &quot;@swissquote\/crafty-preset-babel&quot;, &quot;@swissquote\/crafty-runner-gulp&quot;, &quot;@swissquote\/crafty-runner-webpack&quot; ], name: &quot;test-plugin&quot;, mavenType: &quot;webjar&quot;, \/\/ This artifact is a webjar css: { testIndex: { source: &quot;css\/test.scss&quot;, \/\/ You can specify one or more entry files destination: &quot;index.min.css&quot;, \/\/ You can make the destination explicit watch: &quot;css\/**\/*.scss&quot; \/\/ When a change occurs on files corresponding to this patterns this task will be rerun }, testIndex2: { source: [&quot;css\/test2.scss&quot;, &quot;css\/more.scss&quot;], destination: &quot;index2.min.css&quot;, watch: &quot;css\/**\/*.scss&quot; } }, js: { app: { runner: &quot;webpack&quot;, \/\/ Use Webpack and Babel to compile this bundle source: &quot;js\/app.js&quot; } } }; Presets Each feature of Crafty is declared through a preset, if you wish to compile your JavaScript with Babel, we created crafty-preset-babel. If you wish to compile your CSS with PostCSS, we created crafty-preset-postcss. All these presets can create Tasks which are then taken by a Runner. We provide three runners: crafty-runner-gulp, crafty-runner-webpack and crafty-runner-rollup. Bundles A bundle is a set of one or more source files that will be compiled in a single destination file. Each bundle has one mandatory option : source. If we take this JavaScript bundle : app: { \/\/ name of the bundle source: ['js\/panel.js', 'js\/nothing.js'], } This will automatically create a file in &lt;destination_js&gt;\/app.min.js containing both source files that will be minified. The file name is taken from the bundle name if no destination is specified Common Bundle options Option Type Optional ? Description source String\/Array No One single file or an array of files you wish to compile. Glob expressions are valid. runner String No The name of the runner to use for this bundle. Is mandatory if more than one runner is loaded destination String Yes The name to give to the final file. Defaults to &lt;bundle_name&gt;.min.&lt;bundle_type&gt; watch String\/Array Yes The watch expression to use to rebuild this asset. Any glob expression is valid, is needed for Gulp in watch mode. Bundles have more options that are specific to the selected runners and bundle types. CSS Bundles (crafty-preset-postcss) testIndex: { source: 'css\/test\/test.scss', destination: 'index.min.css', watch: 'css\/test\/**.scss' } testIndex is the bundle name, you will be able to call crafty css_testIndex to build it. The preset itself documents all options and features that are available to you. More about crafty-preset-postcss JavaScript Bundles (crafty-preset-babel or crafty-preset-typescript) app: { source: ['js\/panel.js', 'js\/nothing.js'], destination: 'app.min.js' } app is the bundle name, you will be able to call crafty run js_app to build it. Apart from the common options, here are the options you can use for JavaScript bundles. The presets document all options and features that are available to you. More about crafty-preset-babel More about crafty-preset-typescript Images (crafty-preset-images or crafty-preset-images-simple) You can add the crafty-preset-images or crafty-preset-images-simple package to your project to be able to compress your jpg, png, gif and svg files (images-simple will compress svg and copy the rest). More about crafty-preset-images More about crafty-preset-images-simple Naming and locations conventions Locations Your assets can be located anywhere you want next to your package.json and crafty.config.js but we recommend putting them inside a sub-directory: js for JavaScript \/ TypeScript files css for Style sheets images for images If you have some external JavaScript or CSS that aren't available in NPM. You can also use create a vendor directory either in the js\/css folder or in frontend if your libraries contains both JavaScript and CSS files. Bundle names Your bundle names should have an expressive name, if you have a single bundle, name it either &quot;app&quot; or the name of your application. Bundle destinations When setting a destination, you should always prefix the extension with &quot;.min&quot; for example file.min.js or file.min.css This is a convention that allows some tools to know the content is minified. And will bring you the following benefits : When compressing files together, a file with &quot;.min&quot; in the name will not be minified again, thus you get a performance boost. Files with &quot;.min&quot; in their names won't go through the linting hooks. Destination directory By default, your compiled assets will be in dist\/&lt;bundleType&gt;. But you can override the config.destination or config.destination_&lt;bundleType&gt; option. You can also use the crafty-preset-maven with the mavenType option to move your assets to Maven's target directory. More about crafty-preset-maven All Options Crafty has options that can be tweaked, the exhaustive documentation is available here.","tags":"","url":"User_Guides\/Create_a_configuration_file.html"},{"title":"crafty.config.js Available Options","text":"Table of Contents All Options destination browser: Browser compatibility uglifyJS : JavaScript compression stylelint_pattern: Which files to lint Bundles Common Bundle options CSS Bundles JavaScript Bundles JavaScript External assets All Options All the options in crafty.config.js apart from your bundles in the js and css bundles are optional. Option Default Value Description Preset browsers See below The browser compatibility we wish in the compiled files. Read more below Core destination See below The destination at which to put all files Core destination_&lt;bundleType&gt; destination + &quot;\/&quot; + bundleType The destination for JavaScript\/TypeScript files Core eslint Swissquote JavaScript Guideline This defines the rules for all JavaScript source files that go through the Gulp builder crafty-preset-babel eslintReactVersion &quot;15.0&quot; Some linting rules need to know the React version used. crafty-preset-babel externals [] What libraries are already provided in the final application, see below for more information crafty-runner-rollup \/ crafty-runner-webpack img_basedir &quot;images&quot; Where to take images from (Relative to current working directory) crafty-preset-images \/ crafty-preset-images-simple img_extensions [&quot;png&quot;, &quot;jpg&quot;, &quot;jpeg&quot;, &quot;gif&quot;] What extensions to compress (excludes svg) crafty-preset-images legacy_css false When enabling this feature, the CSS will be linted for errors and formatting instead of the Swissquote CSS Guideline crafty-preset-postcss mavenType See below Defines wether this application is a webapp or webjar. crafty-preset-maven stylelint Swissquote CSS Guideline This defines the rules for all CSS source files, it contains the naming conventions crafty-preset-postcss stylelint_legacy Swissquote CSS Guideline This defines the rules for all CSS source files, it contains the base formatting rules and best practices crafty-preset-postcss stylelint_pattern See Below Define the file types you want to target when linting CSS files. crafty-preset-postcss tslint Swissquote JavaScript Guideline This defines the rules for all TypeScript source files. crafty-preset-typescript uglifyJS See below Configure the compression level of your JavaScript assets. crafty-preset-babel \/ crafty-runner-rollup \/ crafty-runner-webpack destination By default, your compiled assets will be in dist\/&lt;bundleType&gt;. But you can override the config.destination or config.destination_&lt;bundleType&gt; option. You can also use the crafty-preset-maven with the mavenType option to move your assets to Maven's target directory. More about crafty-preset-maven browser: Browser compatibility Default: &quot;&gt; 0.25%, Firefox ESR, Edge &gt;= 13, Safari &gt;= 7.1, iOS &gt;= 7.1, Chrome &gt;= 32, Firefox &gt;= 24, Opera &gt;= 24, IE &gt;= 9&quot; Depending on the target browsers, some optimization might be enabled or disabled to create the smallest possible package for the browsers requirements we have. This option is for example used by Autoprefixer to define which CSS Prefixes it needs to add to the CSS file. The default browsers we defined was taken from the statistics of browser usage we have seen across all Swissquote Platforms If you want a different list, you can override those defaults using any valid Browserslist query source uglifyJS : JavaScript compression Default: { compress: true, sourceMap: true } By default, we compress our JavaScript with safe parameters, if you wish you can go further and enable more advanced compression techniques. The options are described in UglifyJS' documentation stylelint_pattern: Which files to lint Default: [&quot;css\/**\/*.scss&quot;, &quot;css\/**\/*.css&quot;, &quot;!*.min.css&quot;, &quot;!**\/vendor\/**\/*.scss&quot;, &quot;!**\/vendor\/**\/*.css&quot;, &quot;!**\/vendor\/*.scss&quot;, &quot;!**\/vendor\/*.css&quot;] Define the file types you want to target when linting CSS files. Bundles A bundle is a set of one or more source files that will be compiled in on or more destination files. Each bundle has one mandatory option : source. If we take this JavaScript bundle : app: { \/\/ name of the bundle source: ['js\/panel.js', 'js\/nothing.js'], } This will automatically create a file in &lt;destination_js&gt;\/app.min.js containing both source files that will be minified. The file name is taken from the bundle name if no destination is specified Common Bundle options Option Type Optional ? Description source String\/Array No One single file or an array of files you wish to compile. Glob expressions are valid. runner String No The name of the runner to use for this bundle. Is mandatory if more than one runner is loaded destination String Yes The name to give to the final file. Defaults to &lt;bundle_name&gt;.min.&lt;bundle_type&gt; watch String\/Array Yes The watch expression to use to rebuild this asset. Any glob expression is valid, is needed for Gulp in watch mode. CSS Bundles testIndex: { source: 'css\/test\/test.scss', destination: 'index.min.css', watch: 'css\/test\/**.scss' } testIndex is the bundle name, you will be able to call gulp css_testIndex to build it. Apart from the common options, here are the options you can use for CSS bundles. Option Type Runner Preset Description extractCSS Boolean \/ String \/ Object Webpack crafty-preset-postcss This will extract the CSS out of the bundle, all Official options work, you can also pass true which will use [bundle]-[name].min.css as file name, you can use [bundle] in the file name which is replaced by your bundle name. JavaScript Bundles app: { source: ['js\/panel.js', 'js\/nothing.js'], destination: 'app.min.js' } app is the bundle name, you will be able to call gulp js_app to build it. Apart from the common options, here are the options you can use for JavaScript bundles. Option Type Runner Preset Description format String rollup.js crafty-runner-rollup Define the output format can be any of amd, iife, cjs, es or umd. Defaults to es. externals Array&lt;String&gt; rollup.js \/ Webpack crafty-runner-webpack \/ crafty-runner-rollup Extends the list of provided libraries (Webpack understands both globs and strings, rollup.js doesn't understand globs) hot Boolean Webpack crafty-runner-webpack Allows to use Hot Module Replacement in watch mode (false by default) libraryTarget String Webpack crafty-runner-webpack Define the library type to export. By default we use amd. Possible values library String Webpack crafty-runner-webpack Define the library name for the Webpack module or export. concat Boolean Gulp crafty-preset-babel This will merge all files together, outputting a single file. (This doesn't resolve imports, use Webpack or rollup.js for this) JavaScript External assets By default, all bundlers include all external dependencies in the final bundle, this works fine for applications, but if you wish to build a multi-tenant application or a library, you don't wish to include all dependencies, because you'll end up with the same dependency more than one time. The externals option allows you to define a list of libraries that are provided and should not be embedded in the build, here is an example : module.exports = { ... \/\/ patterns are strings or globs externals: [&quot;react&quot;, &quot;react-dom&quot;, &quot;squp&quot;, &quot;squp\/**&quot;], ... js: { app: { \/\/ You can provide more items here, they will be merged with the main list for this bundle externals: [&quot;my-plugin&quot;, &quot;my-plugin\/**&quot;] ... } } ... } In this example react, react-dom and all modules starting with squp\/ will be treated as external You can see that globs were used here, note that they work for Webpack but not for rollup.js that needs complete strings.","tags":"","url":"User_Guides\/crafty.config.js_Available_Options.html"},{"title":"Developing Faster with Crafty watch","text":"Once npm install was executed, you can either do crafty run or crafty watch While developing, prefer crafty watch This will run Crafty in watch mode, in this mode, each change you make to your files will be detected and the relevant assets will be compiled. This works with the following : A change in a CSS file A change in a JavaScript or TypeScript file Adding or replacing images in any runner (Gulp, Webpack and rollup.js) It's strongly recommended to let it run in the background in your IDE while you're developing, it streamlines the process a lot ! Hot Module Replacement Hot Module Replacement allows to change the JavaScript on the page without reloading it. We provide a documentation on how to get started in a React application. Read more here","tags":"","url":"User_Guides\/Developing_Faster_with_Crafty_watch.html"},{"title":"Packages","text":"Crafty is composed of small packages and can be used separately. Here is an overview of their features. Table of Contents crafty Runners crafty-runner-webpack crafty-runner-gulp Presets crafty-preset-babel crafty-preset-postcss crafty-preset-typescript crafty-preset-images crafty-preset-images-simple crafty-preset-maven crafty-preset-react Test runners crafty-preset-jest Utility packages babel-preset-swissquote eslint-plugin-swissquote postcss-swissquote-preset stylelint-config-swissquote crafty Command runner, this is the package that allows all other packages to run. crafty --preset crafty-preset-babel jsLint presets\/* --preset recommended --preset node Also automatically reads your crafty.config.js (in the current working directory) and loads those presets as well. Runners crafty-runner-webpack Use this runner to bundle your code with Webpack. Features and options crafty-runner-gulp Use this runner to be able to create Gulp tasks in your projects. Features and options Presets crafty-preset-babel This preset provides EcmaScript 2015+ support with Babel for the Gulp, Webpack and rollup.js runners. It also configures ESLint with our linting rules. Both in the runners and as a separate command. Features and options crafty-preset-postcss Compile your CSS using PostCSS, works with Webpack and Gulp. Features and options crafty-preset-typescript This preset provides TypeScript support for the Gulp, Webpack and rollup.js runners. It also configures TSLint with our linting rules Features and options crafty-preset-images This preset leverages Gulp to compress your SVG\/PNG\/JPG\/GIF files and placing them in the destination folder. Features and options crafty-preset-images-simple In some cases, you might not have an internet connection on your build machine. As the tools to compress PNG\/JPG\/GIF need to be downloaded from GitHub, this preset will copy the files instead of copying them. SVG is also compressed with this preset. It works as a drop-in replacement for crafty-preset-images. Features and options crafty-preset-maven If your code is inside a Maven project, this preset overrides the destination to move your compiled assets to the right directory in target Features and options crafty-preset-react A preset that provides utilities for Jest and Hot Module Replacement in React projects. JSX Compilation is handled by the crafty-preset-babel already. Features and options Test runners crafty-preset-jest This preset will add Jest to the crafty test command. Its usage with the Babel and TypeScript preset allows you to test your EcmaScript 2015+ and TypeScript code effortlessly. Features and options Utility packages babel-preset-swissquote A Babel preset that supports EcmaScript 2015+, React and more Features and options eslint-plugin-swissquote An ESLint plugin that contains all our recommended options and plugins. Features and presets postcss-swissquote-preset All PostCSS plugins used in the Crafty styles preset are defined in this package. Features and presets stylelint-config-swissquote Stylelint linting rules following the Swissquote CSS Guideline. Provides some custom Stylelint rules. Features and presets","tags":"","url":"Packages\/index.html"},{"title":"crafty","text":"Description crafty is the core package of Crafty, it gives the foundations to load presets and execute the tasks and commands created by them. Crafty comes with three default commands, reads one configuration file and loads presets. All the rest is handled by presets. The philosophy Crafty's philosophy is that there are great build and automation tools out there, we don't want to reinvent them. Gulp is awesome to create tasks and streams of work, Webpack is great at creating bundles, PostCSS and its plugin ecosystem is big. But what plugins and loaders should we use for our needs ? Crafty's philosophy is that if you wish to use Gulp and Webpack together, it should be easy. If you want to use TypeScript instead of Babel, it should be a single configuration line change. The default configuration should allow you to get started in a couple of minutes, but you should be able to fine-tune the configuration to your needs. Another aspect is that configuring your build process once is one thing, keeping it up-to-date is more complicated. Does a new major version of PostCSS work with my existing plugins ? Does this minor update introduce a breaking change by mistake ? Crafty takes care of that heavy lifting and helps you keep your package.json small. What's inside Bundles In Crafty, a bundle is a piece of configuration that represents one or more source files and one destination file. (In some cases, more than one destination file.) Each bundle has to be treated by a runner. Runners A runner's purpose is to take a bundle and turn it into a task that will then take your files and compile them. Each runner can be augmented with presets. Presets Presets are a way to extend Crafty's capabilities with new tasks, commands, runners and configuration. Each preset can use any number of extension points (functions) that will be executed by crafty or other presets. We have an extension point that can override the configuration, an extension point to add Babel plugins (provided by the Babel preset) and more. Read more about the anatomy of a preset Existing runners and presets crafty-runner-webpack Use this runner to bundle your code with Webpack. crafty-runner-gulp Use this runner to be able to create Gulp tasks in your projects. crafty-preset-babel EcmaScript 2015+ support with Babel and ESLint with our linting rules. crafty-preset-postcss Compile your CSS using PostCSS, works with Webpack and Gulp. crafty-preset-typescript This preset provides TypeScript support and configures TSLint with our linting rules. crafty-preset-images This preset compresses your SVG\/PNG\/JPG\/GIF files. crafty-preset-images-simple If you are behind a corporate proxy, this preset will copy images without compressing them. crafty-preset-maven This preset overrides the destination to move your compiled assets to the right directory in target of your Maven project. crafty-preset-react A preset that provides default configuration when using React in a project. JSX Compilation is handled by the crafty-preset-babel already (Not Ready) crafty-preset-jest This preset will add Jest to the crafty test command, works with Babel and TypeScript.","tags":"","url":"Packages\/crafty\/index.html"},{"title":"Anatomy of a preset","text":"Defining a preset A preset is defined with the following functions. All methods are optional; Use the methods you need, leave out the rest. module.exports = { \/** * Provide some default configuration along with the preset. * * @return A partial configuration, that will be recursively merged in the existing configuration *\/ defaultConfig(): {[key: string]: string} { return {} } \/** * Change the configuration once the user overrides have been applied. * * (Renaming legacy parameters, validating or sanitizing values, etc...) can be done here * * @param config The original configuration * @return The full configuration *\/ config(config: {[key: string]: string}): {[key: string]: string} { return config; } \/** * Prepares the commands that can be invoked in this preset. * * @param crafty The Crafty instance * @return an object with command names as key, and an object with &quot;command&quot; and &quot;description&quot; as keys *\/ commands(crafty: Crafty): {[command: string]: {command: (crafty: Crafty, input: string, cli: Meow) =&gt; Promise&lt;number&gt;, description: string}} { return {} } \/** * This extension point is called when the configuration is complete, you can use this if you need to initialize something that will be needed later by your preset * * @param crafty The Crafty instance *\/ init(crafty: Crafty): void \/** * This extension point allows to transform a bundle into a task, any preset can define one or more bundle creators * * @param crafty The Crafty instance *\/ bundleCreator(crafty: Crafty): { [bundleType: string]: { [runnerName: string]: (crafty: Crafty, bundle: Bundle) =&gt; void } } \/** * This extension point is called when tasks will be executed (listing, running or watching). * Use it to declare your tasks and watchers that aren't related to bundles. * * @param crafty The Crafty instance *\/ tasks(crafty: Crafty): void \/** * This extension point is called when `crafty test` is executed, you can run your test runner and return with a Promise. * * @param crafty The Crafty instance * @param input The input to the command * @param cli The Meow instance, allows to query for options and parameters * @returns a promise that fail if the test fail. *\/ test(crafty: Crafty, input: string, cli: Meow): Promise \/\/ Presets add more extensions points \/\/ babel \/\/ jest \/\/ gulp \/\/ rollup \/\/ webpack } Defining a bundleCreator Bundles can contain those fields by default, each bundleType can add more fields. interface Bundle { \/** * The bundle name, is the key you specify next to the object in `crafty.config.js` *\/ name: string; \/** * The bundle's type, generally `js` or `css`, you can also create your own types. *\/ type: string; \/** * The task name to use when you generate the task, is made of `&lt;bundle.type&gt;_&lt;bundle.name&gt;` *\/ taskName: string; \/** * One single file or an array of files you wish to compile. Glob expressions are valid. *\/ source: string | string[]; \/* * The name to give to the final file. Defaults to `&lt;bundle_name&gt;.min.&lt;bundle_type&gt;` *\/ destintion: string; \/* * The name of the runner to use for this bundle. Is mandatory if more than one runner is loaded *\/ runner?: string; \/* * The watch expression to use to rebuild this asset. * Any glob expression is valid, is needed for Gulp in watch mode. * Webpack and rollup.js have their own mechanism to watch files and don't need this option. * If nothing is specified, it will use the value of `source` as a watch expression *\/ watch?: string | string[]; } A bundle creator is a function that receives a crafty instance and a bundle, and is supposed to create a task and a watcher. An example : bundleCreator(crafty: crafty): { js: { &quot;gulp\/babel&quot;: (crafty: Crafty, bundle: Bundle) =&gt; { crafty.undertaker.task(bundle.taskName, () =&gt; { \/\/ Run your task Promise.resolve(); })); crafty.watcher.add(bundle.watch || bundle.source, bundle.taskName); } } } In this example, you can see that this bundleCreator is meant for the js bundleType, and will be used if you specify gulp or gulp\/babel as runner. You can also see that a watcher is created, so if the bundle.watch pattern is matched, bundle.taskName is executed. Defining a command Commands receive three parameters: a Crafty instance, the command input and the parsed arguments used in the CLI. \/** * @param crafty The Crafty instance * @param input The input to the command * @param cli The Meow instance, allows to query for options and parameters * @returns a promise that resolves with 0 if everything went well or rejects with a non 0 exit code *\/ function command(crafty: Crafty, input: string, cli: Meow): Promise&lt;number&gt; { return Promise.resolve(0); } The Crafty instance The Crafty instance that is passed around contains all the configuration, commands and tasks generated. Check out it's API","tags":"","url":"Packages\/crafty\/Anatomy_of_a_preset.html"},{"title":"The Crafty instance","text":"Table of Contents Crafty Logging Undertaker: the task repository Watcher Crafty class Crafty { \/** * Crafty's configuration object. All presets can add their values to it. *\/ config: {}; \/** * Log information, with a timestamp. * See below for more *\/ log: FancyLog; \/** * Task repository, taken from Gulp 4 * See below for more *\/ undertaker: Undertaker; \/** * Add watchers * See below for more *\/ watcher: Watcher; \/** * Format and log an error. *\/ error(error: Error) {} \/** * Add a task to the default run, will then be executed on `crafty run default` or `crafty run` *\/ addDefaultTask(task: string) {} \/** * Are we in watch mode right now ? * If the parameter is specified, will enable or disable watch mode. *\/ isWatching(enable?: boolean) {} \/** * Get the current environment *\/ getEnvironment() {} \/** * Get the implementations of a method from all presets *\/ getImplementations(method: string) {} \/** * Get the current loglevel * * 1: normal * 2: verbose * 3: debug *\/ get loglevel(); \/** * Load the tasks *\/ createTasks(); } Logging class FancyLog { (...msg: any): void, error: (...msg: any) =&gt; void, warn: (...msg: any) =&gt; void, info: (...msg: any) =&gt; void, dir: (...msg: any) =&gt; void, } crafty.log(&quot;Some&quot;, &quot;logging&quot;, &quot;message&quot;); crafty.log.info(&quot;You should know this&quot;); Official documentation Undertaker: the task repository crafty.undertaker.task(&quot;task1&quot;, () =&gt; { return new Promise((resolve, reject) =&gt; { resolve(); \/\/ when everything is done }); }); crafty.undertaker.task(&quot;combined&quot;, crafty.undertaker.series(&quot;task1&quot;, &quot;task1&quot;)); crafty.undertaker.task(&quot;all&quot;, crafty.undertaker.parallel(&quot;combined&quot;, &quot;task1&quot;)); Official documentation Watcher class Watcher { add(regex: RegExp, task: string) {} addRaw(runner: { start: () =&gt; void }) {} run() {} }","tags":"","url":"Packages\/crafty\/The_Crafty_instance.html"},{"title":"crafty-runner-gulp","text":"Description &quot;Automate and enhance your workflow&quot; This is how Gulp presents itself, Gulp is a task runner, combined with an API of file streams. This runner is based on Gulp 4. Table of Contents Description Features Adding Gulp tasks Slight change in behavior of gulp.watch() StreamHandler new StreamHandler(source, destination[, errorCallback]) stream.add(handler) generate() Features Create any gulp task Combine tasks in parallel or in series Create file watchers that run tasks or anything else on change. Adding Gulp tasks module.exports = { \/** * Represents the extension point for rollup configuration * @param {Crafty} crafty - The instance of Crafty. * @param {Gulp} gulp - The instance of Gulp. * @param {StreamHandler} StreamHandler - A wrapper to create your tasks. *\/ gulp(crafty, gulp, StreamHandler) { \/\/ Create tasks gulp.task(&quot;images_svg&quot;, function() { const stream = new StreamHandler(&quot;images\/**\/*.svg&quot;, &quot;dist\/images&quot;); stream.add(svgmin()); return stream.generate(); }); \/\/ Group tasks into other tasks gulp.task(&quot;images&quot;, gulp.parallel(&quot;images_svg&quot;)); \/\/ Register this task to run automatically crafty.addDefaultTask(&quot;images&quot;); \/\/ Create custom watchers gulp.watch([&quot;js\/*.js&quot;]).on(&quot;change&quot;, function(path) { console.log(&quot;Change happened to&quot;, path); }); } }; The full API of Gulp is supported Slight change in behavior of gulp.watch() We changed the behavior of gulp.watch() in Crafty compared to how it works in Gulp: Instead of watching directly, the watch will start when running crafty watch. This creates a clear separation between development and production builds. StreamHandler StreamHandler is a utility class to help you create your streams. It works the same way as gulp.src()...pipe(gulp.dest()) but with some added syntactic sugar: Doesn't return a new instance on every pipe thus allowing you to create complex streams without re-assigning the variable every time Includes gulp-plumber to catch errors gulp.task(&quot;images_svg&quot;, function() { const stream = new StreamHandler(&quot;images\/**\/*.svg&quot;, &quot;dist\/images&quot;); stream.add(svgmin()); return stream.generate(); }); new StreamHandler(source, destination[, errorCallback]) source is a glob or array of globs destination is a destination file or directory errorCallback is an optional callback that you can set to define what to do with errors in your stream stream.add(handler) Same as .pipe(handler) generate() Generates the stream and returns it.","tags":"","url":"Packages\/crafty-runner-gulp.html"},{"title":"crafty-runner-rollup","text":"Description rollup.js is a module bundler for JavaScript which compiles small pieces of code into something larger and more complex, such as a library or application. rollup.js works well with libraries because it's able to output files with EcmaScript 2015 exports which allow for advanced tree shaking. The rollup.js integration is experimental and has some issues that are known and some that are not pinpointed yet. Table of Contents Description Features Options Bundle Options Extending the configuration Adding \/ modifying plugins Known issues Features Bundle your JavaScript using EcmaScript 2015 imports or commonjs imports Your code is Uglified after compilation. Configurable output formats Watch mode, re-compiles your files on changes Options We don't provide any option to configure rollup.js outside bundles, but as crafty.config.js is considered as a preset, you can define the rollup override method in your configuration file and change the configuration to your needs. Check the Extending the configuration section below for more information on that. Bundle Options The rollup.js preset is compatible with our Babel and TypeScript Option Type Optional ? Description format String Yes Define the output format can be any of amd, iife, cjs, es or umd. Defaults to es. externals Array&lt;String&gt; Yes Extends the list of provided libraries (Webpack understands both globs and strings, rollup.js doesn't understand globs) Extending the configuration Each preset and crafty.config.js can define the rollup(crafty, bundle, rollupConfig) function to override rollup.js' configuration. module.exports = { \/** * Represents the extension point for rollup.js configuration * @param {Crafty} crafty - The instance of Crafty. * @param {Object} bundle - The bundle that is being prepared for build (name, input, source, destination) * @param {Object} rollupConfig - The current rollup.js configuration (input, output, watch) *\/ rollup(crafty, bundle, rollupConfig) { \/\/ Mutate any of rollupConfig.input, rollupConfig.output or rollupConfig.watch to your liking } }; The full list of available configuration option is available on the official website. The difference with the official configuration is how plugins are handled. The section below explains how plugins are configured. Adding \/ modifying plugins In rollup.js, plugins are functions that are called with their options. As we want to be able to override those options during the preparation phase of the runner, those plugins are presented in the following way : Here is an example of how the rollup-plugin-eslint is integrated into rollup.js . const rollupEslint = require(&quot;rollup-plugin-eslint&quot;); module.exports = { \/** * Represents the extension point for rollup configuration * @param {Crafty} crafty - The instance of Crafty. * @param {Object} bundle - The bundle that is being prepared for build (name, input, source, destination) * @param {string} rollupConfig - The current rollup configuration (input, output, watch) *\/ rollup(crafty, bundle, rollupConfig) { \/\/ rollupConfig.input.plugins is an object during preparation phase with four possible keys : \/\/ - plugin : the function to initialize the plugin \/\/ - options : A configuration object, will be passed to the function as a first parameter upon initialization \/\/ - weight : (optional) The weight of the plugin, used to define the order in which the plugins are run (A weight of 0 is applied if this key is omitted) \/\/ - init : (optional) A function that Returns an instance of the plugin. The default is : `(plugin) =&gt; plugin.plugin(plugin.options)` rollupConfig.input.plugins.eslint = { plugin: rollupEslint, weight: -20, options: Object.assign({}, crafty.config.eslint, { throwOnError: crafty.getEnvironment() === &quot;production&quot;, exclude: [&quot;node_modules\/**&quot;], include: [&quot;**\/*.js&quot;, &quot;**\/*.jsx&quot;] }) }; } }; Known issues If you have two bundles that run with rollup.js, if one fails, the second one stops as well. ESLint stops linting after the first file in error, this shouldn't be the case.","tags":"","url":"Packages\/crafty-runner-rollup.html"},{"title":"crafty-runner-webpack","text":"Description Webpack is an asset bundler, its purpose is to compile your JavaScript code to be the most efficient possible for production. Table of Contents Description Features Configuration Options Bundle Options Extending the configuration webpack.config.js webpack(crafty, bundle, chain) Features Bundle your JavaScript using EcmaScript 2015 imports or commonjs imports Your code is Uglified after compilation. Configurable output formats Watch mode, re-compiles your files on changes Profile your bundles with --profile which will create a profile next to the generated JavaScript Configuration Options We don't provide any option to configure Webpack outside bundles, but as crafty.config.js is considered as a preset, you can define the webpack override method in your configuration file and change the configuration to your needs. Check the Extending the configuration section below for more information on that. Bundle Options Option Type Optional ? Runner Description hot Boolean Yes Webpack Allows to use Hot Module Replacement in watch mode (false by default) libraryTarget String Yes Webpack Define the library type to export. By default we use amd. Possible values library String Yes Webpack Define the library name for the Webpack module or export. externals Array&lt;String&gt; Yes Webpack \/ rollup.js Extends the list of provided libraries (Webpack understands both globs and strings, rollup.js doesn't understand globs) Extending the configuration Extending Webpack's configuration can be done in two different way, either with a webpack.config.js file or with the webpack extension point webpack.config.js In this solution, you have to create a webpack.config.js file next to your package.json. This file should contain the configuration you wish to change, the rest being already configured inside Crafty we will merge your custom settings. This solution is a bit less powerful than the extension point: You can replace configuration but you can't remove loaders and you can't change the loader's configuration. webpack(crafty, bundle, chain) Each preset and crafty.config.js can define the webpack(crafty, bundle, chain) function to override rollup.js' configuration. Webpack's configuration is built using webpack-chain which is a configuration builder. module.exports = { \/** * Represents the extension point for Webpack configuration * @param {Crafty} crafty - The instance of Crafty. * @param {Object} bundle - The bundle that is being prepared for build (name, input, source, destination) * @param {WebpackChain} chain - The current Webpack configuration using `webpack-chain` *\/ webpack(crafty, bundle, chain) { \/\/ Change any value of the chain object \/\/ For example, adding supported extensions to the resolution chain.resolve.extensions.add(&quot;.ts&quot;).add(&quot;.tsx&quot;); } };","tags":"","url":"Packages\/crafty-runner-webpack.html"},{"title":"crafty-preset-babel","text":"Compatible Runners Gulp rollup.js Webpack Test Runners Jest Linters Provides ESLint, configured with eslint-plugin-swissquote Commands jsLint: Lint JavaScript files, this is a facade for ESLint, pre-configured with our preset. Table of Contents Description Features Linting Installation Usage With Webpack \/ rollup.js JavaScript External assets With Gulp Usage with Jest Configuration Bundle options Adding Babel plugins and presets Linting options Commands crafty jsLint Description Babel is the leading tool to compile EcmaScript 2015+ to EcmaScript 5, combined with ESLint to lint your code, you get the best preset to get started. Features @swissquote\/crafty-preset-babel is able to configure Babel with Webpack and rollup.js. This preset also supports Gulp but in this case it concatenates and minifies the files, it doesn't resolve imports. Our Babel preset Read more Linting In @swissquote\/crafty-preset-babel JavaScript is linted with ESLint, a powerful linter that supports plugins, our configuration follows the Swissquote JavaScript Guideline. Read more Installation npm install @swissquote\/crafty-preset-babel --save module.exports = { presets: [ &quot;@swissquote\/crafty-preset-babel&quot;, &quot;@swissquote\/crafty-runner-webpack&quot;, \/\/ optional &quot;@swissquote\/crafty-runner-gulp&quot; \/\/ optional ], js: { app: { runner: &quot;webpack&quot;, \/\/ Webpack, Gulp or rollup.js (optional if you have a single runner defined) source: &quot;js\/app.js&quot; } } }; Usage With Webpack \/ rollup.js Both runners have the same features in regards to Babel support. They will resolve your modules recursively and bundle them in one file or more if you do some code-splitting. JavaScript External assets By default, all bundlers include all external dependencies in the final bundle, this works fine for applications, but if you wish to build a multi-tenant application or a library, you don't wish to include all dependencies, because you'll end up with the same dependency duplicated. The externals option allows you to define a list of libraries that are provided and should not be embedded in the build, here is an example : module.exports = { ... \/\/ patterns are strings or globs externals: [&quot;react&quot;, &quot;react-dom&quot;, &quot;squp&quot;, &quot;squp\/**&quot;], ... js: { app: { \/\/ You can provide more items here, they will be merged with the main list for this bundle externals: [&quot;my-plugin&quot;, &quot;my-plugin\/**&quot;] ... } } ... } In this example react, react-dom and all modules starting with squp\/ will be treated as external You can see that globs were used here, note that they work for Webpack but rollup.js needs complete strings. With Gulp Gulp will not bundle your files like Webpack and rollup.js do, instead it will generate one output file per input file. This is useful if you are creating a library as it's the role of the final application to tree-shake what it doesn't need from your library. Tree-shaking is powerful but is sub-optimal on big files as some code patterns are recognized as side-effects and thus aren't removed from your bundle even if they aren't used. Usage with Jest If you include both crafty-preset-babel and crafty-preset-jest. When running your tests with crafty test this preset will be use to convert all .js and .jsx files (source and test files) Configuration Bundle options Option Type Optional ? Runner Description concat Boolean Yes Gulp This will merge all files together, outputting a single file. (This doesn't resolve imports, use Webpack or rollup.js for this) Adding Babel plugins and presets You can add, replace or remove plugins and add options to our default Babel configuration. To see which plugins are already included, you can go to the Swissquote Preset for Babel page. module.exports = { \/** * Represents the extension point for Babel configuration * @param {Crafty} crafty - The instance of Crafty. * @param {Object} bundle - The bundle that is being prepared for build (name, input, source, destination) * @param {Object} babelConfig - The current Babel configuration *\/ babel(crafty, bundle, babelConfig) { babelConfig.plugins.push(&quot;@babel\/plugin-transform-property-literals&quot;); } }; After you did npm install --save-dev babel-plugin-transform-es5-property-mutators before, Babel will now use this plugin as well in each run. This method is called once per bundle, so you can customize each bundle's configuration differently. Linting options You can read about the linting options in the page about Read more Commands crafty jsLint This linter will leverage ESLint to lint your JavaScript files with the Swissquote presets pre-configured. All ESLint CLI options are valid here. The additions made by this command are: Pre-configured rules, defined by eslint-plugin-swissquote activated using --preset. Uses babel-eslint as a parser to support new syntax that ESLint doesn't understand yet. there are 4 presets available for you : format Base formatting rules, should work on any code (included in legacy and recommended) node Adds environment information for Node.js legacy For all your EcmaScript 5 code recommended For al your EcmaScript 2015+ code, also contains rules for React Setting presets is done with the --preset option The order of the presets is important as some rules might override previous ones. For example: crafty jsLint src\/** --preset format --preset node --preset recommended If no preset is specified recommended is used. If you pass the --fix flag it will fix all the errors it can and write them directly to the file.","tags":"","url":"Packages\/crafty-preset-babel\/index.html"},{"title":"ESLint IDE Integration","text":"Table of Contents IntelliJ IDEA : in-editor linting Presets IntelliJ IDEA : in-editor linting With in-editor linting you can lint your files while linting and also fix some errors automatically with alt-enter. Ensure you have the ESLint plugin in your IDE. This can be changed per-project, the important options are : Enable: \u221a Node Interpreter : either use the one on your system or the one in your project (generally src\/main\/frontend\/node\/node) ESLint Package : point to your crafty-preset-babel package (generally node_modules\/crafty-preset-babel\/) Extra ESLint options : Here you choose the presets you want to apply. See below Presets format Base formatting rules, should work on any code (included in legacy and recommended) node Adds environment information for Node.js legacy For all your EcmaScript 5 code recommended For al your EcmaScript 2015+ code, also contains rules for React You can use the number of presets you wish, the format preset is the one checked by the hooks You can define them with --preset {presetName} For example running with --preset recommended will verify for formatting, common rules, EcmaScript 2015+ specific and React specific rules.","tags":"","url":"Packages\/crafty-preset-babel\/ESLint_IDE_Integration.html"},{"title":"JavaScript Features","text":"Table of Contents Introduction EcmaScript 2015\/2016 with Babel Babel Introduction All bundles made with Babel have the same features, regardless of the bundler that was used. Except Gulp that will not use Babel to create your final bundle. EcmaScript 2015\/2016 with Babel By default, when you declare a JavaScript bundle in your crafty.config.js it will be compiled in the simplest possible way. Let's take this example. { js: { app: { runner: &quot;webpack&quot;, source: ['js\/app.js'] } } } In this case, this build will run through Webpack and execute the following tasks: Linting with ESLint Resolve dependencies and create one bundle Compile the code using Babel Minify all files with UglifyJS After this, we get a bundle named app.min.js in dist\/js. Both Webpack and rollup.js us Babel to compile modern JavaScript to JavaScript that all browsers understand. Babel Babel is a compiler that gets all its features through plugins. We chose the best plugins in the community to get the best out of it. Our Babel preset contains everything we need for our web applications. The options we have for this preset are environment and browsers. environment is defined automatically from how you run it (crafty run\/watch\/test). browsers is defined from config.browsers. The default list is &quot;&gt; 0.25%, Firefox ESR, Edge &gt;= 13, Safari &gt;= 7.1, iOS &gt;= 7.1, Chrome &gt;= 32, Firefox &gt;= 24, Opera &gt;= 24, IE &gt;= 9&quot;. You can override those defaults using any valid Browserslist query source You can override this browsers list in your crafty configuration file.","tags":"","url":"Packages\/crafty-preset-babel\/JavaScript_Features.html"},{"title":"JavaScript Linting","text":"Linting is the process of verifying your source code for common errors. With the help of ESLint we created a default configuration that follows this standard. Table of Contents Fixing linting errors automatically Linting in development Turning off linting for some parts of your code Disable linting on a line Disable linting on a block of code Disable linting for one or more files Customizing the rules Fixing linting errors automatically Some linting errors, like variable renaming, require an human mind to be fixed, but others don't. ESLint comes with a useful command line flag to fix the errors automatically. We bundled a command line tool that will leverage this and help you fix your JavaScript errors. Linting in development Linting is important but while writing code, formatting is not the most important thing and failing the build for something as insignificant as a space is more annoying than helpful. That's why in Crafty, formatting rules are in warning mode during development (with crafty watch) so that you can focus on programming and not on formatting. Turning off linting for some parts of your code You might find yourself surprised with the number of errors you get when you lint your JavaScript files for the first time. Here I'll explain how to disable linting on some files or part of files, but remember! The linting is here to help you! You should have good reasons to disable linting. Good reasons include: It's an external library you downloaded, so it should not follow our conventions you are adding a console.log but wrapped in a if statement to check if &quot;console&quot; exists in the global scope. Disable linting on a line To be surgical you can also disable the linting on a single line with eslint-disable-line An optional feature is to add which rules are disabled. In this example we disable the no-console rule. We recommend to do this whenever you need to disable linting in a file. You can find the rule name at the end of the error message you get when compiling. if (console) { console.log(&quot;Les carottes sont cuites&quot;); \/\/eslint-disable-line no-console } Disable linting on a block of code You should use this possibility if you're sure of what you do. To disable linting on a block you can add the following comments around your block \/* eslint-disable *\/ \/\/ suppress all warnings between comments alert(&quot;foo&quot;); \/* eslint-enable *\/ Disable linting for one or more files When running, ESLint will look for a .eslintignore file in it's working directory and apply all the patterns to ignore some files. The patterns in your .eslintignore file must match the .gitignore syntax. For example: vendor\/**.css The .eslintignore file's location changes wether you want to disable linting from Crafty or the Mercurial hooks. For the hooks, the file must be at the root of your repository (next to your .hgignore\/.gitignore). For Crafty, the file must be in the Gulp working directory (generally src\/main\/frontend). Customizing the rules ESLint contains a lot of rules. We created a default set of rules following the Swissquote JavaScript Guideline, but if your project wants stricter rules, you can enable them like that : module.exports = { eslint: { rules: { &quot;arrow-parens&quot;: [&quot;error&quot;, &quot;always&quot;] } } }; You can set rules either for EcmaScript 5 or EcmaScript 6 (AKA EcmaScript 2015)","tags":"","url":"Packages\/crafty-preset-babel\/JavaScript_Linting.html"},{"title":"crafty-preset-images","text":"This module is a crafty preset to compress images if they're jpg, png, gif or svg Installation npm install @swissquote\/crafty-preset-images --save-dev module.exports = { presets: [ &quot;@swissquote\/crafty-preset-images&quot;, &quot;@swissquote\/crafty-runner-gulp&quot; ] }; Behind a corporate proxy If you are behind a corporate proxy, or your build machine doesn't have internet access, this preset's dependencies will fail. The problem jpg\/png\/gif compression tools are not bundled with their NPM packages, but downloaded from GitHub directly. Open issues about that https:\/\/github.com\/imagemin\/optipng-bin\/issues\/71 https:\/\/github.com\/imagemin\/jpegtran-bin (no open issue, same issue as optipng-bin) https:\/\/github.com\/imagemin\/gifsicle-bin\/issues\/77 The alternative You can use crafty-preset-images-simple instead that will provide the same feature for SVG, but will copy other images over to the destination directory.","tags":"","url":"Packages\/crafty-preset-images.html"},{"title":"crafty-preset-images-simple","text":"This module is a crafty preset to compress images if they're svg Because of corporate proxy issues, this preset exists as a replacement for crafty-preset-images if you can't install it. Installation npm install @swissquote\/crafty-preset-images-simple --save-dev module.exports = { presets: [ &quot;@swissquote\/crafty-preset-images-simple&quot;, &quot;@swissquote\/crafty-runner-gulp&quot; ] };","tags":"","url":"Packages\/crafty-preset-images-simple.html"},{"title":"crafty-preset-jest","text":"Compatible Runners Not tied to any runner Linters N\/A Commands test: Jest integrates itself with the crafty test command Related presets Babel TypeScript Crafty provides a preset that will run Jest once crafty test is executed. It adds safe defaults to be able to run your tests with your configuration and provides an extension hook that allows you and other presets to extend its configuration. Jest is a Node-based runner. This means that the tests always run in a Node environment and not in a real browser. This lets us enable fast iteration speed and prevent flakiness. While Jest provides browser global variables such as window thanks to jsdom, they are approximations of the real browser behavior. Jest is intended to be used for unit tests of your logic and your components rather than the DOM quirks. We recommend that you use a separate tool for browser end-to-end tests if you need them. Table of Contents File name Conventions crafty test Writing Tests Testing Components Focusing and Excluding Tests Coverage Reporting Snapshot Testing Extending the configuration File name Conventions Jest will look for test files with any of the following popular naming conventions: Files with .js suffix in __tests__ folders. Files with .test.js suffix. Files with .spec.js suffix. The .test.js \/ .spec.js files (or the __tests__ folders) can be located at any depth under the src top level folder. We recommend to put the test files (or __tests__ folders) next to the code they are testing so that relative imports appear shorter. For example, if App.test.js and App.js are in the same folder, the test needs to import App from '.\/App' instead of a long relative path. Using crafty-preset-babel will add jsx as a supported test file extension and crafty-preset-typescript will add the support for ts and tsx To be able to use .ts or .tsx test files, you'll have to add @types\/jest as a dependency : npm install --save @types\/jest crafty test Running crafty test will run all test and exit. But you can use any option provided by Jest itself. For example crafty test --watch will run your tests in watch mode. This mode will run all your tests once and once it's done will wait for code or test changes to re-run the concerned tests. Writing Tests To create tests, add it() (or test()) blocks with the name of the test and its code. You may optionally wrap them in describe() blocks for logical grouping but this is neither required nor recommended. Jest provides a built-in expect() global function for making assertions. A basic test could look like this: import sum from &quot;.\/sum&quot;; it(&quot;sums numbers&quot;, () =&gt; { expect(sum(1, 2)).toEqual(3); expect(sum(2, 2)).toEqual(4); }); All expect() matchers supported by Jest are extensively documented here. You can also use jest.fn() and expect(fn).toBeCalled() to create \u201cspies\u201d or mock functions. Testing Components A broad spectrum of component testing techniques exists. They range from a \u201csmoke test\u201d verifying that a component renders without throwing, to shallow rendering and testing some of the output, to full rendering and testing component lifecycle and state changes. Different projects choose different testing trade-offs based on how often components change, and how much logic they contain. If you haven\u2019t decided on a testing strategy yet, we recommend that you start with creating simple smoke tests for your components: import React from &quot;react&quot;; import ReactDOM from &quot;react-dom&quot;; import App from &quot;.\/App&quot;; it(&quot;renders without crashing&quot;, () =&gt; { const div = document.createElement(&quot;div&quot;); ReactDOM.render(&lt;App \/&gt;, div); }); This test mounts a component and makes sure that it didn\u2019t throw during rendering. Tests like this provide a lot value with little effort so they are great as a starting point, and this is the test you will find in src\/App.test.js. When you encounter bugs caused by changing components, you will gain a deeper insight into which parts of them are worth testing in your application. This might be a good time to introduce more specific tests asserting specific expected output or behavior. If you\u2019d like to test components in isolation from the child components they render, we recommend using shallow() rendering API from Enzyme. To install it, run: npm install --save enzyme react-test-renderer You can write a smoke test with it too: import React from &quot;react&quot;; import { shallow } from &quot;enzyme&quot;; import App from &quot;.\/App&quot;; it(&quot;renders without crashing&quot;, () =&gt; { shallow(&lt;App \/&gt;); }); Unlike the previous smoke test using ReactDOM.render(), this test renders &lt;App&gt; but doesn\u2019t go deeper. For example, even if &lt;App&gt; itself renders a &lt;Button&gt; that throws, this test will pass. Shallow rendering is great for isolated unit tests, but you may still want to create some full rendering tests to ensure the components integrate as expected. Enzyme supports full rendering with mount(), and you can also use it for testing state changes and component lifecycle. You can read the Enzyme documentation for more testing techniques. Enzyme documentation uses Chai and Sinon for assertions but you don\u2019t have to use them because Jest provides built-in expect() and jest.fn() for spies. Here is an example from Enzyme documentation that asserts specific output, rewritten to use Jest matchers: import React from &quot;react&quot;; import { shallow } from &quot;enzyme&quot;; import App from &quot;.\/App&quot;; it(&quot;renders welcome message&quot;, () =&gt; { const wrapper = shallow(&lt;App \/&gt;); const welcome = &lt;h2&gt;Welcome to React&lt;\/h2&gt;; expect(wrapper.contains(welcome)).toEqual(true); }); All Jest matchers are extensively documented here. You might find jest-enzyme helpful to simplify your tests with readable matchers. The above contains code can be written simpler with jest-enzyme. expect(wrapper).toContainReact(welcome); To enable this, install jest-enzyme: npm install --save jest-enzyme Focusing and Excluding Tests You can replace it() with xit() to temporarily exclude a test from being executed. Similarly, fit() lets you focus on a specific test without running any other tests. Coverage Reporting Jest has an integrated coverage reporter that works well with EcmaScript 2015+ and requires no configuration. Run crafty test --coverage to include a coverage report like this: Note that tests run much slower with coverage. We recommend to run it separately from your normal workflow. Snapshot Testing Snapshot testing is a feature of Jest that automatically generates text snapshots of your components and saves them on the disk so if the UI output changes, you get notified without manually writing any assertions on the component output. Read more about snapshot testing. Extending the configuration Each preset and crafty.config.js can define the jest(crafty, options) function to override Jest's configuration. const path = require(&quot;path&quot;); const MODULES = path.join(__dirname, &quot;..&quot;, &quot;node_modules&quot;); module.exports = { \/** * Represents the extension point for rollup configuration * @param {Crafty} crafty - The instance of Crafty. * @param {Object} options - The Jest configuration object *\/ jest(crafty, options) { \/\/ Adds this directory to resolve modules options.moduleDirectories.push(MODULES); \/\/ Add a transformer for TypeScript options.transform[&quot;^.+\\\\.tsx?$&quot;] = require.resolve( &quot;ts-jest\/preprocessor.js&quot; ); \/\/ Add file extensions to resolve imports options.moduleFileExtensions.push(&quot;ts&quot;); options.moduleFileExtensions.push(&quot;tsx&quot;); } }; The full list of available configuration option is available on the official website.","tags":"","url":"Packages\/crafty-preset-jest.html"},{"title":"crafty-preset-maven","text":"Compatible Runners Works with any runner Linters N\/A Commands N\/A Table of Contents Description Installation Usage Example Override destination with an environment variable Options Description This preset allows you to use crafty within a Maven build (with frontend-maven-plugin). This will discover you pom.xml and get the right folder in target for you. You can use it either with Webjars or Webapps. Installation npm install @swissquote\/crafty-preset-maven --save module.exports = { presets: [&quot;@swissquote\/crafty-preset-maven&quot;], mavenType: &quot;webapp&quot; \/\/ or &quot;webjar&quot; }; Usage The destination directory is calculated using crafty-preset-maven and the mavenType option. You can set the destination path manually but it's recommended to change the mavenType of your bundle to either webapp or webjar instead. This is the default for each: webapp: ${project.build.directory}\/${project.build.finalName}\/resources webjar: ${project.build.outputDirectory}\/META-INF\/resources\/webjars This preset's role is to replace config.destination which is used to create the destination for each bundleType (destination_js, destination_css ...) Example If we take the following configuration: module.exports = { presets: [ &quot;@swissquote\/preset-maven&quot;, &quot;@swissquote\/crafty-preset-babel&quot;, &quot;@swissquote\/crafty-runner-rollup&quot; ], mavenType: &quot;webjar&quot;, js: { library: { source: 'js\/index.js', } } } The path of the final file will be : \u2193 &quot;js&quot; or &quot;css&quot; is added depending on bundle type &lt;maven_root&gt;\/target\/classes\/META-INF\/resources\/webjars\/js\/library.min.js \u2191 Default path for webjars \u2191 Inferred from the bundle name Override destination with an environment variable If your build is running from within Maven, it's pointless to re-calculate the destination path, you can pass it using the TARGET_BASEDIR environment variable. This is how to do it in frontend-maven-plugin &lt;plugin&gt; &lt;artifactId&gt;frontend-maven-plugin&lt;\/artifactId&gt; ... &lt;configuration&gt; ... &lt;environmentVariables&gt; ... &lt;!-- This values is for webapps --&gt; &lt;TARGET_BASEDIR&gt;${project.build.directory}\/${project.build.finalName}&lt;\/TARGET_BASEDIR&gt; &lt;!-- This value is for webjars --&gt; &lt;TARGET_BASEDIR&gt;${project.build.outputDirectory}&lt;\/TARGET_BASEDIR&gt; &lt;\/environmentVariables&gt; &lt;\/configuration&gt; ... &lt;\/plugin&gt; Options Option Type Optional ? Description mavenType String No Must be &quot;webjar&quot; or &quot;webapp&quot; decides where to put the files.","tags":"","url":"Packages\/crafty-preset-maven.html"},{"title":"crafty-preset-postcss","text":"Compatible Runners Gulp Webpack Linters Provides stylelint, configured with stylelint-config-swissquote Commands cssLint: Lint CSS files, this is a facade for Stylelint, pre-configured with our preset. Table of Contents Description Features Linting Installation Usage with Webpack Hot Module Replacement Extracting CSS Usage with Gulp Extending from your crafty.config.js Commands crafty cssLint Bundle Options Linting options Description The principle of CSS is easy to grasp, yet CSS is complicated to write at large scales. We want to offer the best experience for writing CSS that is compatible with most browsers without the long configuration process. Features PostCSS is a CSS parser that supports plugins, countless plugins are maintained by a big community, we use a handful of them. Features and examples Linting Stylelint is a wonderful tool to lint CSS in according to your rules, we have a custom configuration preset for Stylelint that comes pre-configured. Read more about it here Installation npm install @swissquote\/crafty-preset-postcss --save module.exports = { presets: [ &quot;@swissquote\/crafty-preset-postcss&quot;, &quot;@swissquote\/crafty-runner-webpack&quot;, \/\/ optional &quot;@swissquote\/crafty-runner-gulp&quot; \/\/ optional ] }; Usage with Webpack Webpack defines the right loaders to support CSS. To use it, add import &quot;myfile.scss&quot; in your Webpack imported file. Hot Module Replacement When setting hot: true in your crafty.config.js for your main JavaScript bundle, you can enable Hot Module Replacement. With this, the CSS files imported in your Webpack bundles are automatically reloaded upon changes. This is used inside crafty watch, the build mode will not take it into account. Extracting CSS By default, the CSS will be embedded in your bundle, but you can provide the extractCSS option to extract your styles using the ExtractTextWebpackPlugin. Usage with Gulp module.exports = { presets: [ &quot;@swissquote\/crafty-preset-postcss&quot;, &quot;@swissquote\/crafty-runner-gulp&quot; ], css: { app: { runner: &quot;gulp&quot;, \/\/ optional if you have a single runner defined source: &quot;css\/app.scss&quot;, watch: [&quot;css\/**&quot;] } } }; Extending from your crafty.config.js For this you need to add a postcss method to your crafty.config.js module.exports = { \/** * Represents the extension point for Postcss configuration * @param {Crafty} crafty - The instance of Crafty. * @param {ProcessorMap} config - The list of plugins currently configured * @param {Object} bundle - The bundle that is being prepared for build (name, input, source, destination) *\/ postcss(crafty, config, bundle) { \/\/ Add postcss-fixes \/\/ We recommend that for all plugins you add, you set a &quot;before&quot;, \/\/ because otherwise they run as last plugins and some other plugins might miss some optimizations \/\/ For example if your plugin adds a `calc()` or a `var()` postcss-calc and postcss-custom-properties will already have run config.processor(&quot;postcss-fixes&quot;).before(&quot;autoprefixer&quot;); \/\/ Replace postcss-csso with cssnano, \/\/ - only enabled in production \/\/ - runs before postcss-reporter \/\/ - use cssnano's default preset config.delete(&quot;postcss-csso&quot;); config .processor(&quot;cssnano&quot;) .enableIf(options =&gt; crafty.getEnvironment() === &quot;production&quot;) .before(&quot;postcss-reporter&quot;) .setOptions({ preset: &quot;default&quot; }); \/\/ Change autoprefixer's options to disable autoprefixing for flexbox const autoprefixerOptions = config.processor(&quot;autoprefixer&quot;).options; autoprefixerOptions.flexbox = false; \/\/ Override CSS custom properties in code const customProperties = config.processor(&quot;postcss-custom-properties&quot;) .options; customProperties.variables = { color: &quot;#fa5b35&quot; }; } }; Read about the full API Commands crafty cssLint This command will lint CSS files using Stylelint's CLI too, you can get it's documentation here. The additions made by this command are: Pre-configured rules, defined by stylelint-config-swissquote activated using --preset. Set the syntax to scss. there are 3 presets available for you : recommended: Contains all BEM specific rules. legacy: Contains rules specific to legacy code. common: Enforces the styleguide of the CSS. (included in both recommended and legacy) Setting presets is done with the --preset option The order of the presets is important as some rules might override previous ones. It can be used the following way: crafty cssLint css\/**\/*.scss --preset recommended If no preset is specified recommended is used. Bundle Options Option Type Optional ? Runner Description extractCSS Boolean \/ String \/ Object Yes Webpack This will extract the CSS out of the bundle, all Official options work, you can also pass true which will use [bundle]-[name].min.css as file name, you can use [bundle] in the file name which is replaced by your bundle name. Linting options You can read about the linting options in the page about CSS Linting","tags":"","url":"Packages\/crafty-preset-postcss\/index.html"},{"title":"CSS Features","text":"PostCSS is a CSS Parser that can be extended with plugins. We made a selection of plugins useful for Swissquote. Here are some features made possible by them. Table of Contents All plugins Organization Nested Styles (postcss-nesting, postcss-nested, postcss-atroot) Import CSS Files (postcss-import, postcss-url) Mixins (sassy-mixins) Comments (postcss-scss) Variables Variables (postcss-advanced-variables, postcss-custom-properties) Property Lookup (postcss-property-lookup) Images Images in CSS (postcss-assets) Image set (postcss-image-set-polyfill) Help with Right-to-left languages (postcss-logical, postcss-dir-pseudo-class) Dynamic Styles Math in your CSS (postcss-calc) Conditionals (postcss-advanced-variables) Loops (postcss-advanced-variables) Initial Values (postcss-initial) Colors (postcss-color-function, postcss-color-gray, postcss-color-hex-alpha, postcss-color-hwb, postcss-color-rebeccapurple, postcss-color-rgb, postcss-color-rgba-fallback, postcss-color-hsl) Color Fallbacks Color manipulation Levels of gray Syntax simplification Selectors (postcss-selector-matches, postcss-selector-not, postcss-pseudo-class-any-link, postcss-custom-selectors) Media Queries (postcss-custom-media, postcss-media-minmax) Fallbacks Vendor Prefixes (autoprefixer) Browser support (postcss-font-family-system-ui, postcss-pseudoelements, postcss-replace-overflow-wrap, postcss-filter-gradient, postcss-font-variant) All plugins All included plugins have a short example accompanying them below. Plugin Description postcss-assets Embed images &amp; size functions postcss-filter-gradient Gradient fallback for IE9 postcss-import Import files postcss-scss Inline comments support postcss-url Update relative URLs after import postcss-advanced-variables Sass-like variables, mixins and loops postcss-nested Sass-like nested selectors postcss-atroot place rules back up to the root postcss-property-lookup reference other property values postcss-dir-pseudo-class Use the :dir() pseudo class for LTR\/RTL postcss-logical New LTR\/RTL and flow related properties autoprefixer Add or remove Vendor prefixes postcss-csso Minify CSS postcss-attribute-case-insensitive Support case insensitive attributes postcss-calc Resolves calculations postcss-color-function W3C color methods postcss-color-gray Shades of gray postcss-color-hex-alpha #rrggbbaa colors postcss-color-hsl Allow to define colors using hsl() postcss-color-hwb hwb() color function postcss-color-rebeccapurple Adds the rebbeccapurple color postcss-color-rgb Change W3C Color Level 4 rgb() to Level 3 postcss-color-rgba-fallback Add an RGB fallback to RGBA colors postcss-custom-media W3C custom media queries postcss-custom-properties W3C custom variables postcss-custom-selectors W3C custom selectors postcss-font-family-system-ui Change system-ui to a font-family list postcss-font-variant Transformed to font-feature-settings postcss-image-set-polyfill Use image-set() for image selection postcss-initial Use initial value for a property postcss-media-minmax W3C &lt; &lt;= &gt;= &gt; media queries postcss-nesting W3C nested selectors postcss-pseudo-class-any-link Allows you to use :any-link pseudo class. postcss-pseudoelements Adjust :: to : postcss-replace-overflow-wrap Converts overflow-wrap to word-wrap postcss-selector-matches W3C :matches() pseudo-classes postcss-selector-not W3C :not() pseudo-classes Organization Nested Styles (postcss-nesting, postcss-nested, postcss-atroot) \/* Before *\/ .parent { background: white; .before { color: #333; } @at-root { .child { background: black; } } .after { color: #eee; } } \/* After *\/ .child { background: black; } .parent { background: white; } .parent .before { color: #333; } .parent .after { color: #eee; } Import CSS Files (postcss-import, postcss-url) With @import, you can import your CSS files to create a single CSS output file. All relative links are updated when they are imported. \/* Before *\/ \/** foo.scss **\/ body { background: #eee; } \/** media\/bar.scss **\/ .button { background: url(&quot;..\/..\/images\/buttons\/background.png&quot;); } \/** style.scss **\/ @import &quot;foo.scss&quot;; @import &quot;media\/bar.scss&quot; (min-width: 25em); \/* After *\/ body { background: #eee; } @media (min-width: 25em) { .button { background: url(&quot;..\/images\/buttons\/background.png&quot;); \/* the path has been rebased *\/ } } Mixins (sassy-mixins) @mixin allows to create Sass style mixins. \/* Before *\/ @mixin icon($name) { padding-left: 16px; &amp;::after { content: &quot;&quot;; background: url(\/icons\/$(name).png); } } .search { @include icon(search); } \/* After *\/ .search { padding-left: 16px; } .search::after { content: &quot;&quot;; background: url(\/icons\/search.png); } Comments (postcss-scss) \/* Before *\/ \/\/ single line comment .button { color: orange; } \/* After *\/ \/* single line comment *\/ .button { color: orange; } Variables Variables (postcss-advanced-variables, postcss-custom-properties) We have two possible ways of using variables: Sass style variables : $variable CSS properties (Official specification): --variable Sass style variables are provided as a compatibility layer. We recommend to use the CSS properties as they are future proof and will be directly supported in browsers in the future. \/* Before *\/ :root { --color: #f00; } $blue: #056ef0; $column: 200px; .menu { width: calc(4 * $column); } .menu_link { color: var(--color); background: $blue; width: $column; } \/* After *\/ .menu { width: calc(4 * 200px); } .menu_link { color: #f00; background: #056ef0; width: 200px; } Property Lookup (postcss-property-lookup) \/* Before *\/ .heading { margin: 20px; padding: @margin; } \/* After *\/ .heading { margin: 20px; padding: 20px; } Images Images in CSS (postcss-assets) \/* Before *\/ body { background: inline( &quot;background.png&quot; ); \/* Be careful to not use this on big files *\/ } .button { background: resolve(&quot;foobar.jpg&quot;); background: resolve(&quot;icons\/baz.png&quot;); width: width(&quot;foobar.png&quot;); height: height(&quot;foobar.png&quot;); background-size: size(&quot;foobar.png&quot;); } \/* After *\/ body { background: url(data:image\/gif;base64,...); } .button { background: url(&quot;..\/images\/foobar.jpg?14a931c501f&quot;); background: url(&quot;..\/images\/icons\/baz.png?14a931c501f&quot;); width: 320px; height: 240px; background-size: 320px 240px; } Image set (postcss-image-set-polyfill) \/* Before *\/ .BigImage { background-image: image-set( url(img\/test.png) 1x, url(img\/test-2x.png) 2x, url(my-img-print.png) 600dpi ); } \/* After *\/ .BigImage { background-image: url(img\/test.png); } @media (-webkit-min-device-pixel-ratio: 2), (-o-min-device-pixel-ratio: 2\/1), (min-resolution: 192dpi) { .BigImage { background-image: url(img\/test-2x.png); } } @media (-webkit-min-device-pixel-ratio: 6.25), (-o-min-device-pixel-ratio: 25\/4), (min-resolution: 600dpi) { .BigImage { background-image: url(my-img-print.png); } } Help with Right-to-left languages (postcss-logical, postcss-dir-pseudo-class) \/* Before *\/ .Banner { color: #222222; inset: logical 0 5px 10px; padding-inline: 20px 40px; resize: block; } \/\/ `postcss-dir-psseudo-class` .Banner__title:dir(rtl) { margin-right: 10px; } .Banner__title:dir(ltr) { margin-left: 10px; } \/* After *\/ .Banner { color: #222222; top: 0; left: 5px; bottom: 10px; right: 5px; } .Banner:dir(ltr) { padding-left: 20px; padding-right: 40px; } .Banner:dir(rtl) { padding-right: 20px; padding-left: 40px; } .Banner { resize: vertical; } \/\/ `postcss-dir-psseudo-class` [dir=&quot;rtl&quot;] .Banner__title { margin-right: 10px; } [dir=&quot;ltr&quot;] .Banner__title { margin-left: 10px; } Dynamic Styles Math in your CSS (postcss-calc) \/* Before *\/ :root { --main-font-size: 16px; } body { font-size: var(--main-font-size); } h1 { font-size: calc(var(--main-font-size) * 2); height: calc(100px - 2em); margin-bottom: calc(var(--main-font-size) * 1.5); } \/* After *\/ body { font-size: 16px; } h1 { font-size: 32px; height: calc(100px - 2em); \/\/ em's won't be resolved margin-bottom: 24px; } Conditionals (postcss-advanced-variables) \/* Before *\/ .notice--clear { @if 3 &lt; 5 { background: green; } @else { background: blue; } } \/* After *\/ .notice--clear { background: green; } Loops (postcss-advanced-variables) \/* Before *\/ @each $icon in (foo, bar, baz) { .icon-$(icon) { background: url(&quot;icons\/$(icon).png&quot;); } } @for $i from 1 to 3 { .b-$i { width: $(i) px; } } \/* After *\/ .icon-foo { background: url(&quot;icons\/foo.png&quot;); } .icon-bar { background: url(&quot;icons\/bar.png&quot;); } .icon-baz { background: url(&quot;icons\/baz.png&quot;); } .b-1 { width: 1px; } .b-2 { width: 2px; } .b-3 { width: 3px; } Initial Values (postcss-initial) \/* Before *\/ a { animation: initial; background: initial; white-space: initial; } \/* After *\/ a { animation: none 0s ease 0s 1 normal none running; animation: initial; background: transparent none repeat 0 0 \/ auto auto padding-box border-box scroll; background: initial; white-space: normal; } Colors (postcss-color-function, postcss-color-gray, postcss-color-hex-alpha, postcss-color-hwb, postcss-color-rebeccapurple, postcss-color-rgb, postcss-color-rgba-fallback, postcss-color-hsl) Color Fallbacks Some colors functions don't work in all browsers, these plugins will create fallbacks. rebeccapurple is a whole different story, it's an homage to Eric Meyer's daughter. \/* Before *\/ blockquote { background: rgba( 153, 221, 153, 0.8 ); \/\/ This will create a fallback without the alpha border-color: #9d9c; \/\/ This will be transformed to rgba color: rebeccapurple; \/\/ ... sad story, homage to eric meyer } .Quote--clear { background: rgb(250.5 255 255); \/\/ Allows to declare colors with rgb() level 4 color: hsl( 200grad 100% 50% \/ 20% ); \/\/ This will declare colors with hsl() level 4 border-color: hwb(90, 0%, 0%, 0.5); \/\/ This will transform colors to rgba() } \/* After *\/ blockquote { background: #9d9; background: rgba(153, 221, 153, 0.8); border-color: #9d9; border-color: rgba(153, 221, 153, 0.8); color: #639; } .Quote--clear { background: rgb(251, 255, 255); color: hsla(180, 100%, 50%, 0.2); border-color: #80ff00; border-color: rgba(128, 255, 0, 0.5); } Color manipulation You can change a color by applying modifiers. Apart from the ones presented here, there are a lot of modifiers available \/* Before *\/ a { color: color(red alpha(-10%)); \/\/ Change the opacity of red } a:hover { color: color(red blackness(80%)); \/\/ Darken the color } body { color: hwb(90, 0%, 0%, 0.6); \/\/ This will be transformed to rgba } \/* After *\/ a { color: red; color: rgba(255, 0, 0, 0.9); } a:hover { color: #300; } body { color: #80ff00; color: rgba(128, 255, 0, 0.6); } Levels of gray You can also get levels of gray. \/* Before *\/ p { color: gray(85); \/\/ Level of gray background: gray(10%, 50%); \/\/ Level of gray with opacity } \/* After *\/ p { color: #555; background: #1a1a1a; background: rgba(26, 26, 26, 0.5); } Syntax simplification Selectors (postcss-selector-matches, postcss-selector-not, postcss-pseudo-class-any-link, postcss-custom-selectors) These plugins help with the creation \/* Before *\/ @custom-selector :--button button, .button; @custom-selector :--enter :hover, :focus; :--button { \/* styles for your buttons *\/ } :--button:--enter { \/* hover\/focus styles for your button *\/ } p:not(:first-child, .special) { color: red; } p:matches(:first-child, .special) { color: red; } nav :any-link { background-color: yellow; } [frame=&quot;hsides&quot; i] { border-style: solid none; } \/* After *\/ .button, button { \/* styles for your buttons *\/ } .button:focus, .button:hover, button:focus, button:hover { \/* hover\/focus styles for your button *\/ } p:not(:first-child):not(.special) { color: red; } p.special, p:first-child { color: red; } nav :link, nav :visited { background-color: #ff0; } [frame=&quot;hsides&quot;], [frame=&quot;Hsides&quot;], [frame=&quot;hSides&quot;], [frame=&quot;HSides&quot;], [frame=&quot;hsIdes&quot;], [frame=&quot;HsIdes&quot;], [frame=&quot;hSIdes&quot;], [frame=&quot;HSIdes&quot;], [frame=&quot;hsiDes&quot;], [frame=&quot;HsiDes&quot;], [frame=&quot;hSiDes&quot;], [frame=&quot;HSiDes&quot;], [frame=&quot;hsIDes&quot;], [frame=&quot;HsIDes&quot;], [frame=&quot;hSIDes&quot;], [frame=&quot;HSIDes&quot;], [frame=&quot;hsidEs&quot;], [frame=&quot;HsidEs&quot;], [frame=&quot;hSidEs&quot;], [frame=&quot;HSidEs&quot;], [frame=&quot;hsIdEs&quot;], [frame=&quot;HsIdEs&quot;], [frame=&quot;hSIdEs&quot;], [frame=&quot;HSIdEs&quot;], [frame=&quot;hsiDEs&quot;], [frame=&quot;HsiDEs&quot;], [frame=&quot;hSiDEs&quot;], [frame=&quot;HSiDEs&quot;], [frame=&quot;hsIDEs&quot;], [frame=&quot;HsIDEs&quot;], [frame=&quot;hSIDEs&quot;], [frame=&quot;HSIDEs&quot;], [frame=&quot;hsideS&quot;], [frame=&quot;HsideS&quot;], [frame=&quot;hSideS&quot;], [frame=&quot;HSideS&quot;], [frame=&quot;hsIdeS&quot;], [frame=&quot;HsIdeS&quot;], [frame=&quot;hSIdeS&quot;], [frame=&quot;HSIdeS&quot;], [frame=&quot;hsiDeS&quot;], [frame=&quot;HsiDeS&quot;], [frame=&quot;hSiDeS&quot;], [frame=&quot;HSiDeS&quot;], [frame=&quot;hsIDeS&quot;], [frame=&quot;HsIDeS&quot;], [frame=&quot;hSIDeS&quot;], [frame=&quot;HSIDeS&quot;], [frame=&quot;hsidES&quot;], [frame=&quot;HsidES&quot;], [frame=&quot;hSidES&quot;], [frame=&quot;HSidES&quot;], [frame=&quot;hsIdES&quot;], [frame=&quot;HsIdES&quot;], [frame=&quot;hSIdES&quot;], [frame=&quot;HSIdES&quot;], [frame=&quot;hsiDES&quot;], [frame=&quot;HsiDES&quot;], [frame=&quot;hSiDES&quot;], [frame=&quot;HSiDES&quot;], [frame=&quot;hsIDES&quot;], [frame=&quot;HsIDES&quot;], [frame=&quot;hSIDES&quot;], [frame=&quot;HSIDES&quot;] { border-style: solid none; } Media Queries (postcss-custom-media, postcss-media-minmax) Media queries should be written with min-width and max-width but it leads to unclear declarations. With custom media queries, and query ranges, it's much easier to write. \/* Before *\/ @media (width &gt;= 500px) and (width &lt;= 1200px) { \/* your styles *\/ } \/* or coupled with custom media queries *\/ @custom-media --medium-screen (width &lt; 500px) or (width &gt; 1200px); @media (--medium-screen) { \/* your styles *\/ } \/* After *\/ @media (min-width: 500px) and (max-width: 1200px) { \/* your styles *\/ } \/* or coupled with custom media queries *\/ @media (max-width: 499px) or (min-width: 1201px) { \/* your styles *\/ } Fallbacks Browsers have the tendency to do everything their way, either with vendor prefixes or by using a custom syntax no other browser supports. These plugins make it easy for you. Vendor Prefixes (autoprefixer) Tired of having to look for what prefix to use in your CSS ? You don't need this anymore! With Autoprefixer this is all done for you. You can write your CSS following the W3C standards and Autoprefixer will handle the rest for you \/* Before *\/ :fullscreen a { display: flex; } \/* After *\/ :-webkit-full-screen a { display: -webkit-box; display: -webkit-flex; display: flex; } :-moz-full-screen a { display: flex; } :-ms-fullscreen a { display: -ms-flexbox; display: flex; } :fullscreen a { display: -webkit-box; display: -webkit-flex; display: -ms-flexbox; display: flex; } Browser support (postcss-font-family-system-ui, postcss-pseudoelements, postcss-replace-overflow-wrap, postcss-filter-gradient, postcss-font-variant) Some ways of writing CSS are compatible with modern browsers but not with older ones. These plugins ensure some properties include a fallback. They are enabled if your target browsers need those fixes. \/* Before *\/ body { font-family: system-ui; } .button::before { content: attr(href); } .foo { overflow-wrap: break-word; } .buy { background: linear-gradient(to bottom, #1e5799, #7db9e8); } h2 { font-variant-caps: small-caps; } table { font-variant-numeric: lining-nums; } \/* After *\/ body { font-family: system-ui, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue; } .button:before { content: attr(href); } .foo { word-wrap: break-word; } .buy { background: linear-gradient(to bottom, #1e5799, #7db9e8); filter: progid:DXImageTransform.Microsoft.gradient(startColorstr=&quot;#ff1e5799&quot;, endColorstr=&quot;#ff7db9e8&quot;, GradientType=0); } h2 { font-feature-settings: &quot;c2sc&quot;; font-variant-caps: small-caps; } table { font-feature-settings: &quot;lnum&quot;; font-variant-numeric: lining-nums; }","tags":"","url":"Packages\/crafty-preset-postcss\/CSS_Features.html"},{"title":"CSS Linting","text":"For linting we use Stylelint; a CSS linter that works on top of PostCSS and supports plugins. Table of Contents Two available presets: Legacy and Recommended Linting in development Turning off linting for some parts of your code Disable linting for a line Disable linting for a section Disable linting for one or more files Customizing the rules Two available presets: Legacy and Recommended Our linting rules come in two flavors, Legacy and Recommended. Legacy will check the formatting and common practices. Recommended is the full Swissquote CSS Guideline compliance set including the BEM naming conventions. By default, we check in Recommended mode, you can change this parameter with the legacy_css option in your crafty.config.js Linting in development Linting is important but while writing code, formatting is not the most important thing and failing the build for something as insignificant as a space is more annoying than helpful. That's why in Crafty, formatting rules are in warning mode during development (with crafty watch) so that you can focus on programming and not on formatting. Turning off linting for some parts of your code For obvious reasons, you shouldn't disable linting on your files, but sometimes, it's necessary. Some browser specific hacks or other tweaks may come as false positives in the linter or you want to ignore a folder containing external libraries. Disable linting for a line The best is to use this way to silence stylelint, to disable the parts you know to be correct. \/* stylelint-disable-next-line *\/ #id { color: pink !important; \/* stylelint-disable-line declaration-no-important *\/ } As you can see, adding the \/* stylelint-disable-next-line *\/ will ignore all errors on the following line. The next line gives a more interesting example : \/* stylelint-disable-next-line declaration-no-important *\/ we disable the linting for a specific rule. This is the recommended way as you won't risk silencing errors that would have been useful to you, you can even specify more than one rule, separated by a comma. You can also use the alternative \/* stylelint-disable-line *\/ comment to disable the current line. Disable linting for a section You can also disable linting for one or more blocks \/* stylelint-disable selector-no-id, declaration-no-important *\/ #id { color: pink !important; } \/* stylelint-enable *\/ Disable linting for one or more files When running, Stylelint will look for a .stylelintignore file in it's working directory and apply all the patterns to ignore some files. The patterns in your .stylelintignore file must match the .gitignore syntax. For example: vendor\/**.css The .stylelintignore file's location changes wether you want to disable linting from Crafty or the Mercurial hooks. For the hooks, the file must be at the root of your repository (next to your .hgignore\/.gitignore). For Crafty, the file must be in the Gulp working directory (generally src\/main\/frontend). Customizing the rules The library we use for CSS linting (Stylelint) contains a lot of rules. We created a default set of rules following the Swissquote CSS Guideline, but if your project wants stricter rules, you can follow the example here. Be aware that these rules will not be applied to the mercurial hooks. module.exports = { stylelint: { rules: { &quot;selector-no-type&quot;: true } }, stylelint_legacy: { rules: { &quot;max-nesting-depth&quot;: [ 2, { ignore: [&quot;at-rules-without-declaration-blocks&quot;] } ] } } };","tags":"","url":"Packages\/crafty-preset-postcss\/CSS_Linting.html"},{"title":"Postcss Extension API","text":"PostCSS' API isn't well suited to configure which extensions should be executed or not, this task is left to the final user. But Crafty has a bundle of PostCSS plugins that have their own configuration. With this API, we try to provide a rich API that allows you to add, remove, reconfigure and reorder plugins. Even better, we provide some ways to conditionally enable plugins. Extending from your crafty.config.js For this you need to add a postcss method to your crafty.config.js module.exports = { \/** * Represents the extension point for Postcss configuration * @param {Crafty} crafty - The instance of Crafty. * @param {ProcessorMap} config - The list of configured plugins *\/ postcss(crafty, config) { \/\/ Add postcss-fixes \/\/ We recommend that for all plugins you add, you set a &quot;before&quot;, \/\/ because otherwise they run as last plugins and some other plugins might miss some optimizations \/\/ For example if your plugin adds a `calc()` or a `var()` postcss-calc and postcss-custom-properties will already have run config.processor(&quot;postcss-fixes&quot;).before(&quot;autoprefixer&quot;); \/\/ Replace postcss-csso with cssnano, \/\/ - enabled in production, disabled otherwise \/\/ - runs before postcss-reporter \/\/ - use cssnano's default preset config.delete(&quot;postcss-csso&quot;); config .processor(&quot;cssnano&quot;) .enableIf(options =&gt; crafty.getEnvironment() === &quot;production&quot;) .before(&quot;postcss-reporter&quot;) .setOptions({ preset: &quot;default&quot; }); \/\/ Change autoprefixer's options to disable autoprefixing for flexbox const autoprefixerOptions = config.processor(&quot;autoprefixer&quot;).options; autoprefixerOptions.flexbox = false; \/\/ Override CSS custom properties in code const customProperties = config.processor(&quot;postcss-custom-properties&quot;) .options; customProperties.variables = { color: &quot;#fa5b35&quot; }; } }; ProcessorMap The main object allows you add or remove elements from the map class ProcessorMap { \/** * Allows you to add or change a processor, * The name will be used to load the plugin if nothing else is specified. *\/ processor(moduleName: string): Processor; \/** * Remove all entries *\/ clear(): ProcessorMap; \/** * Delete a single processor * @param name The processor to remove *\/ delete(name: string): ProcessorMap; \/** * Check if a processor is configured *\/ has(name: string): boolean; \/** * An array of all the values in the map, sorted. *\/ values(): Processor[]; \/* * Returns an object of all the entries in the backing Map * where the key is the object property, and the value * corresponding to the key. Will return `undefined` if the backing * Map is empty. * This will order properties by their name if the value is * a ProcessorMap that used .before() or .after(). *\/ entries(): { [name: string]: Processor }; } Processor class &lt;OPTIONS&gt; Processor&lt;OPTIONS = Object&gt; { constructor(name: string); options: OPTIONS \/** * Same as the constructor parameter, allows you to change * which module will be loaded for this processor. *\/ module(moduleName: string): Processor; \/** * Provide a custom init callback, needed if your plugin * is a function or needs more than one parameter. * This is an alternative to `.module(name)`. * * .init(options =&gt; require(&quot;my-postcss-plugin&quot;)(options)) * * @param fun The function that will return the instance of the plugin *\/ init(fun: (options: OPTIONS): PluginInstance): Processor; \/** * Returns a boolean to tell if the processor is enabled or not. * * @param fun *\/ enableIf(fun: (options: OPTIONS): boolean): Processor; \/** * Enables the plugin if the spec it implements isn't * supported by all browsers that are targeted * * @param caniuseFeature The name of the CSS spec that it implements * @param browsers the list of browsers that target *\/ enableIfUnsupported(caniuseFeature: string|string[], browsers: string): Processor; \/** * Change all the options at once. * * @param {Object} options The new options object *\/ setOptions(options: OPTIONS): Processor; \/** * Specify before which plugin this plugin has to run. * Must not be set at the same time as &quot;.after()&quot; * * @param {string} name The name of the plugin before which we must run *\/ before(name): Processor; \/** * Specify after which plugin this plugin has to run. * Must not be set at the same time as &quot;.before()&quot; * * @param {string} name The name of the plugin before which we must run *\/ after(name): Processor; } Examples Add a new processor after another one","tags":"","url":"Packages\/crafty-preset-postcss\/Postcss_Extension_API.html"},{"title":"crafty-preset-react","text":"Compatible Runners Webpack Test Runners Jest Related presets Babel TypeScript Jest This preset provides utilities for Jest and Hot Module Replacement in React projects. Table of Contents Installation Testing React components in Jest Hot Module Replacement TypeScript Installation npm install @swissquote\/crafty-preset-babel --save module.exports = { presets: [ &quot;@swissquote\/crafty-preset-babel&quot;, \/\/ also works with crafty-preset-typescript &quot;@swissquote\/crafty-runner-webpack&quot;, \/\/ optional &quot;@swissquote\/crafty-preset-react&quot; ], js: { app: { runner: &quot;webpack&quot;, source: &quot;js\/app.js&quot;, hot: true, \/\/ Hot Module Replacement must be enabled for React Hot Loader to work react: true \/\/ React Hot Loader must be explicitly enabled in your bundle } } }; Testing React components in Jest This preset comes with Enzyme already configured for React 16. This allows you to do shallow rendering of components, execute events and check the state of components. Their documentation on testing components is exhaustive. Check it out Hot Module Replacement When doing modern JavaScript development, the usual process is Write code, Compile, Refresh the browser. crafty watch removes the Compile step because it's run automatically. Hot Module Replacement (HMR) was created to remove the Refresh the browser part. More precisely, when doing a build with Webpack, in development mode, a Websocket client is added to the build and a small HTTP server is started. When the page is loaded, each bundle will establish a Websocket connection to the server. When you change a line of code, the server will rebuild them and send a notification through Websockets to the browser, the browser will then download the patch and apply the code change. With React components, it will even re-render them without losing the current state. Here's an example : To enable HMR on your react application, you must set hot: true and react: true on your bundle in crafty.config.js. Then you must mark your root component as hot-exported : import React from &quot;react&quot;; import { hot } from &quot;react-hot-loader&quot;; const App = () =&gt; &lt;div&gt;Hello World!&lt;\/div&gt;; export default hot(module)(App); Only the root component needs this wrapping, the child components don't need it. TypeScript If you're using TypeScript you have one more step to make npm install --save @types\/webpack-env Read more about Hot Module Replacement","tags":"","url":"Packages\/crafty-preset-react.html"},{"title":"crafty-preset-typescript","text":"Compatible Runners rollup.js Webpack Test Runners Jest Linters Provides TSLint, with a minimal configuration (should be extended in the future to match the one in stylelint) Commands tsLint: Lint TypeScript files, this is a facade for TSLint, pre-configured with our preset. Table of Contents Description Features Linting Installation Usage with Webpack \/ rollup.js Usage with Jest Type definition files Getting Started crafty tsLint Description Microsoft presents TypeScript as &quot;JavaScript that scales&quot;. TypeScript is a superset of JavaScript that allows you to type your code. Not everything needs to have a type as the tool is powerful enough to infer most of the types. TypeScript has types but it also supports the full EcmaScript 2015 Specification. Features TypeScript being a superset of JavaScript, features supported by our Babel preset apply here. Or you can check out the TypeScript specific features Linting Like any language, TypeScript has best practices and practices that you shouldn't do. With the help of tslint we check the code for common mistakes and formatting errors. Read more We don't provide a direct access to TSLint's CLI but plan to do so in the future. Installation npm install @swissquote\/crafty-preset-typescript --save module.exports = { presets: [ &quot;@swissquote\/crafty-preset-typescript&quot;, &quot;@swissquote\/crafty-runner-webpack&quot;, \/\/ optional &quot;@swissquote\/crafty-runner-rollup&quot; \/\/ optional ], js: { app: { runner: &quot;webpack&quot;, \/\/ Webpack or rollup.js (optional if you have a single runner defined) source: &quot;js\/app.ts&quot; } } }; Usage with Webpack \/ rollup.js Both offer the same level of integration. You have to configure TypeScript with the tsconfig.json file that you put at the root of the project. Some options can't be auto-configured through the loaders \/ plugins so that's why you have to do it yourself. Moreover, the integration with your IDE is simplified if you have a complete tsconfig.json in your project. Usage with Jest If you include both crafty-preset-typescript and crafty-preset-jest. When running your tests with crafty test this preset will be use to convert all .ts and .tsx files (source and test files) Type definition files TypeScript is also able to understand Types on libraries written in pure JavaScript this is done through types definition files. Some packages come with their own definitions, for the others there are two ways to consume these files. Use @types scoped packages from NPM Create your own *.d.ts file Read more Getting Started We have a user guide to get started with TypeScript in your project Follow the guide crafty tsLint This linter will leverage TSLint to lint your TypeScript files with the Swissquote presets pre-configured. All TSLint CLI options are valid here. The additions made by this command are pre-configured rules from the Swissquote Guidelines. crafty tsLint src\/** If you pass the --fix flag it will fix all the errors it can and write them directly to the source file.","tags":"","url":"Packages\/crafty-preset-typescript\/index.html"},{"title":"Getting Started with TypeScript","text":"Like for an EcmaScript 2015 bundle, you must set webpack: true in your crafty.config.js for your bundle. Prerequisite To make the compilation work with TypeScript, you need to add a tsconfig.json file at the root of your project with the following content. { &quot;exclude&quot;: [&quot;node_modules&quot;, &quot;node&quot;], &quot;compilerOptions&quot;: { &quot;moduleResolution&quot;: &quot;node&quot;, &quot;charset&quot;: &quot;UTF-8&quot;, &quot;jsx&quot;: &quot;react&quot;, &quot;module&quot;: &quot;esnext&quot;, \/\/ Enables Tree shaking for Webpack and rollup.js &quot;sourceMap&quot;: true, &quot;target&quot;: &quot;es5&quot;, &quot;lib&quot;: [&quot;DOM&quot;, &quot;ES2017&quot;, &quot;DOM.Iterable&quot;, &quot;ScriptHost&quot;] \/\/ Makes it easier to write ES6, be careful to include mixins accordingly. } } All configuration options. If you plan to create a library You can ask TypeScript to also export all Type definitions along with the code, this is how you do it: { &quot;compilerOptions&quot;: { &quot;declaration&quot;: true } } Most basic example Create a bundle like this: { yourBundleName: { webpack: true, source: &quot;js\/main.ts&quot; } } Then create a js\/main.ts file with the following content interface Person { firstName: string; lastName: string; } function greeter(person: Person) { return &quot;Hello, &quot; + person.firstName + &quot; &quot; + person.lastName; } var user = { firstName: &quot;Jane&quot;, lastName: &quot;User&quot; }; console.log(greeter(user)); When running Gulp, you will get your compiled TypeScript file in js\/yourBundleName.min.js More features Using Typings To leverage external libraries in your project, you need to configure TypeScript to be able to read your definition files. If you use Typings from the @types scoped packages you don't need this configuration. But for the definitions downloaded with typings or your own, you need to tell TypeScript to load them. for this, you need to create a tsconfig.json next to your crafty.config.js and add a &quot;files&quot; array inside. { &quot;files&quot;: [&quot;.\/typings\/index.d.ts&quot;] } Read more about Typings","tags":"","url":"Packages\/crafty-preset-typescript\/Getting_Started_with_TypeScript.html"},{"title":"TypeScript Features","text":"Table of Contents Language features Interfaces Union types Other IDE Integration Language features TypeScript is a superset of EcmaScript 2015, in this section we will cover what is added on top of it. For EcmaScript 2015 features, you can check out our Babel preset's features. Interfaces A useful feature for types is interfaces, unlike other strongly typed languages, interfaces can contain fields and optional fields. This allows you to create on-the-fly type definitions without creating an actual class in the output JavaScript. interface Person { firstName: string; lastName: string; } function greeter(person: Person) { return &quot;Hello, &quot; + person.firstName + &quot; &quot; + person.lastName; } var user = { firstName: &quot;Jane&quot;, lastName: &quot;User&quot; }; document.body.innerHTML = greeter(user); Union types Due to the nature of JavaScript, your code can receive parameters that are sometimes a string and sometimes an object. Union types come to the rescue : type Shape = Square | Rectangle | Circle; function area(s: Shape) {} You can also use it to define strict values, more precise than string : function direction(k: &quot;left&quot; | &quot;right&quot;) { \/\/ The value of k is &quot;left&quot; or &quot;right&quot; } Other readonly properties in interfaces and classes Generic Types JSX Support (with the .tsx extension) Decorators Type Aliases (type PrimitiveArray = Array&lt;string|number|boolean&gt;;) Read more IDE Integration TypeScript being out for years now, it has first class support in IDE's like IntelliJ, Visual Studio Code and others. The IDE directly understands types and type definition files and is able to propose auto completion and refactoring out of the box.","tags":"","url":"Packages\/crafty-preset-typescript\/TypeScript_Features.html"},{"title":"TypeScript Linting","text":"Linting in TypeScript is less advanced than in JavaScript, there are less available rules and features. This is also less of a problem because the language itself prevents errors with the help of types. We use TSLint to lint our TypeScript code. Disable linting on parts of files There are some ways to disable the linting on the part of a file \/* tslint:disable *\/ - Disable all rules for the rest of the file \/* tslint:enable *\/ - Enable all rules for the rest of the file \/* tslint:disable:rule1 rule2 rule3... *\/ - Disable the listed rules for the rest of the file \/* tslint:enable:rule1 rule2 rule3... *\/ - Enable the listed rules for the rest of the file \/\/ tslint:disable-next-line - Disables all rules for the following line someCode(); \/\/ tslint:disable-line - Disables all rules for the current line \/\/ tslint:disable-next-line:rule1 rule2 rule3... - Disables the listed rules for the next line Customize the rules TSLint contains more than 100 rules. We created a default set of rules , but if your project wants stricter rules, you can enable them like that in your crafty.config.js : module.exports = { tslint: { rules: { &quot;member-access&quot;: true } } };","tags":"","url":"Packages\/crafty-preset-typescript\/TypeScript_Linting.html"},{"title":"TypeScript Typings","text":"There are two ways to get Type Definition files ( also known as Typings ) in your project Table of Contents 1. Use @types scoped packages from NPM 2. Create your own *.d.ts file 1. Use @types scoped packages from NPM Starting with TypeScript 2, Typings can automatically be loaded from NPM packages. If for example you use lodash, you can install npm install @types\/lodash and the types are loaded automatically. The definition files that are in these packages are loaded form the same place as I did some tests, it looks like type definitions are found if you do import _ from 'lodash'; but not if you do import _add from 'lodash\/add';. It seems packages with nothing after the package name are taken in account but nothing else. 2. Create your own *.d.ts file You can create your own definition files using the Official documentation.","tags":"","url":"Packages\/crafty-preset-typescript\/TypeScript_Typings.html"},{"title":"babel-preset-swissquote","text":"Swissquote Preset for Babel This package includes the Babel preset used by Crafty. This preset will do the following for you: Transform EcmaScript 2015+ back to EcmaScript 5, according to the list of browsers you support. (@babel\/preset-env) Handle non-standard class properties (@babel\/plugin-proposal-class-properties) Support Object rest, spread and destructuring (@babel\/plugin-proposal-object-rest-spread, @babel\/plugin-transform-destructuring) [prod\/dev] Transpile generators (@babel\/plugin-transform-regenerator) Polyfills the runtime needed for async\/await and generators (@babel\/plugin-transform-runtime) Convert JSX to JavaScript (@babel\/preset-react) [prod] Remove React Prop Types in production ( babel-plugin-transform-react-remove-prop-types ) Support Dynamic imports (@babel\/plugin-syntax-dynamic-import) or convert them to a deferred require in tests (babel-plugin-transform-dynamic-import) Options Option Default Effect environment process.env.BABEL_ENV || process.env.NODE_ENV Overrides the environment, must be one of development, test or production browsers babel-preset-env's default + IE9 Sets the list of browsers to support, must be a valid Browserslist query deduplicateHelpers false Defines if the babel helpers (like createClass) should be in each file or referenced once useESModules false Defines if @babel\/plugin-transform-runtime should use ES modules or commonjs modules Usage in Crafty The easiest way to use this configuration is with Crafty, which includes it by default. You don\u2019t need to install it separately in Crafty projects. Usage Outside of Crafty If you want to use this Babel preset in a project not built with Create React App, you can install it with following steps. First, install Babel. Then create a file named .babelrc with following contents in the root folder of your project: { &quot;presets&quot;: [&quot;@swissquote\/swissquote&quot;] }","tags":"","url":"Packages\/babel-preset-swissquote.html"},{"title":"eslint-plugin-swissquote","text":"Swissquote ESLint preset Features Provide a style guide for your JavaScript Warns on common mistakes in JavaScript Works with EcmaScript 2015+ using the babel-eslint parser Presets This plugin comes with four presets format Base formatting rules, should work on any code (included in legacy and recommended) node Adds environment information for Node.js legacy For all your EcmaScript 5 code recommended For al your EcmaScript 2015+ code, also contains rules for React Included plugins the recommended preset includes three plugins: eslint-plugin-import provides some rules to clean imports. eslint-plugin-react ensures you follow some best practices with React. eslint-plugin-sonarjs provides some advanced rules made by the guys at SonarQube. To make it easy to install this plugin, those rules are added to ESLint automatically, but prefixed with swissquote\/. This is due to a limitation with ESLint that doesn't allow us to add plugins to ESLint through an API. Usage Include them with in your projects like this: { &quot;extends&quot;: [&quot;plugin:@swissquote\/swissquote\/recommended&quot;] }","tags":"","url":"Packages\/eslint-plugin-swissquote.html"},{"title":"postcss-swissquote-preset","text":"PostCSS Swissquote Preset Features Organization Nested Styles (postcss-nesting, postcss-nested, postcss-atroot) Import CSS Files (postcss-import, postcss-url) Comments (postcss-scss) Variables Variables and Mixins (postcss-advanced-variables, postcss-custom-properties) Property Lookup (postcss-property-lookup) Images Images in CSS (postcss-assets) Dynamic Styles Math in your CSS (postcss-calc) Conditionals (postcss-advanced-variables) Loops (postcss-advanced-variables) Initial Values (postcss-initial) Colors (postcss-color-function, postcss-color-gray, postcss-color-hex-alpha, postcss-color-hwb, postcss-color-rebeccapurple, postcss-color-rgba-fallback) Syntax simplification Selectors (postcss-selector-matches, postcss-selector-not, postcss-pseudo-class-any-link, postcss-custom-selectors) Media Queries (postcss-custom-media, postcss-media-minmax) Fallbacks Vendor Prefixes (autoprefixer) Browser support (postcss-pseudoelements, postcss-replace-overflow-wrap, postcss-filter-gradient, postcss-font-variant) See details in CSS Features. Presets Usage within Crafty This preset is included in the styles preset, you don't need to include anything specific Usage outside Crafty npm install @swissquote\/postcss-swissquote-preset --save options postcss([ require(&quot;@swissquote\/postcss-swissquote-preset&quot;)({ config: { browsers: &quot;ie 9, last 3 versions&quot;, \/\/ A Browserslist compatible browsers list environment: &quot;production&quot; \/\/ (optional) The current environment to compile to, will also use the `NODE_ENV` variable, or will fallback to &quot;production&quot; } }) ]);","tags":"","url":"Packages\/postcss-swissquote-preset.html"},{"title":"stylelint-config-swissquote","text":"Swissquote Stylelint configuration Features Lint style sheets following the Swissquote CSS Guideline (on form and function). Uses standard Stylelint rules and includes 4 custom rules. Provides a simpler standard for legacy code. Presets recommended: Contains all BEM specific rules. legacy: Contains rules specific to legacy code. common: Enforces the styleguide of the CSS. (included in both recommended and legacy) Rules no-hack-reassignment: Hacks (._*) must be applied directly on the concerned element. no-state-without-component: States (.is-*|.has-*) must appear next to a component. no-type-outside-scope: Types (a, div ...) must appear inside a scope (.s-*). no-utility-reassignment: Utilities (.u-*) must be applied directly on the concerned element. Usage within Crafty Crafty includes those rules and presets by default, you don't need to do any specific action to use them. Usage outside Crafty Outside Crafty, you have to use it as you would for any Stylelint plugin or preset. You install it: npm install @swissquote\/stylelint-config-swissquote --save You import the plugin and extend from it: { &quot;plugins&quot;: [&quot;@swissquote\/stylelint-config-swissquote&quot;], &quot;extends&quot;: [&quot;@swissquote\/stylelint-config-swissquote\/recommended&quot;], &quot;rules&quot;: { \/\/ your custom rules here } }","tags":"","url":"Packages\/stylelint-config-swissquote.html"},{"title":"CLI","text":"Crafty comes with some commands by default and presets can add new commands. Here are the default commands: Table of Contents crafty crafty run [task [task...]] crafty watch crafty test Commands added by presets crafty cssLint [file|dir|glob]* crafty jsLint [file|dir|glob]* crafty Will list the available commands and tasks. crafty run [task [task...]] This is the main entry point to execute one or more tasks in Crafty. Running crafty run without a task will execute the default task. You can specify one or more tasks to run, separated by space. crafty watch Running the watch mode will execute all tasks once at the start. After that, it will watch for file system changes and re-execute related tasks once a change occurs. All presets can add watchers for any file pattern or use their embedded watcher (like Webpack). crafty test Presets can register test runners, when running crafty test all these test runners are invoked. We have one test runner which is provided as a preset; Jest. Commands added by presets crafty cssLint [file|dir|glob]* Bundled Stylelint with embedded presets, read more here crafty jsLint [file|dir|glob]* Bundled ESLint with embedded presets, read more here","tags":"","url":"CLI.html"},{"title":"Troubleshooting","text":"Here are a list of common errors you might see while configuring or using Crafty 'use strict' is unnecessary inside of modules With Babel 6, &quot;use strict&quot; is added automatically to your files, you can delete this statement from all your files.","tags":"","url":"Troubleshooting.html"},{"title":"Why","text":"Table of Contents Why we created Crafty Features Update frequency Compatibility Configurability Community Why we developed our solution instead of an existing one Why we created Crafty This package is a helper to compile your scripts to the best, optimized, compressed and understood by all browser versions of the code you write. It takes the best tools choices of the community between the amount of options for the task at hand (Sass, Less, Stylus, PostCSS, Traceur, Babel, rollup.js, Browserify, Webpack, Pundle, ESLint, JSHint, Gulp, Broccoli, Grunt) With a consideration for features, configurability, update frequency, compatibility and community. All these tools are then configured to work together seamlessly and to get the best out of each one. Features We support the full EcmaScript 2015 and EcmaScript 2016 Specifications, Advanced CSS with the help of PostCSS and also TypeScript. The features are best explained in each specific section : JavaScript, TypeScript, CSS Update frequency Almost all the tools we use in this project are update more than once a month. Keeping the more than 70 dependencies up to date on this project is a continuous task. But it would be even more complex if it needs to be done on all Swissquote projects separately. Compatibility The tools and plugins are chosen to work together. We made Pull Requests to some projects to ensure they are compatible with one another and we keep track of the open problems. Configurability All tools of this type have dozens of configuration options. Knowing them all is impossible. With Crafty we embedded all options that need to respect the Swissquote Standards (Our CSS and JavaScript Guideline for example) But we also expose a lot of configuration options to the final user. By doing it this way, you can have advanced features without any complex configuration, but can tweak most configurations to your specific needs. Community The community around tools like Babel, ESLint, Webpack and others are thriving. Tens of issues are created and resolved each week, new features come often, always improved documentation and reliability. Why we developed our solution instead of an existing one Some solutions outside Swissquote do a similar job, like neutrino. But they tend to be too opinionated and not offering options to tailor the solution to our needs. Or they are made for one specific tool. For example: create-react-app is meant to create React applications with Babel and Webpack. You can't use TypeScript and you are limited to one bundle. neutrino is more configurable but still allows to is limited to one bundle and Webpack.","tags":"","url":"Why.html"}]}